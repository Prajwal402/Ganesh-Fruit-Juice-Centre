<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="Ganesh Fresh Juice Centre ‚Äî Fresh, healthy & natural juices, shakes, lassi and meals. Order online for home delivery in Bangalore." />
    <title>Ganesh Fresh Juice Centre | Fresh & Natural Juices</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #E67E22;
            --primary-dark: #D35400;
            --primary-light: #FDEBD0;
            --secondary: #1ABC9C;
            --secondary-dark: #16A085;
            --accent: #E74C8B;
            --accent-light: #FDEDF4;
            --bg: #FFF9F0;
            --bg-dark: #1A1A2E;
            --text: #2C3E50;
            --text-light: #7F8C8D;
            --card: #ffffff;
            --radius: 18px;
            --radius-sm: 12px;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.12);
            --font-h: 'Poppins', sans-serif;
            --font-b: 'Inter', 'Segoe UI', sans-serif;
            --ease: cubic-bezier(.4, 0, .2, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        html {
            scroll-behavior: smooth
        }

        body {
            font-family: var(--font-b);
            background: var(--bg);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
            overflow-x: hidden;
            perspective: 1200px
        }

        /* === 3D PERSPECTIVE WRAPPER === */
        .scene {
            perspective: 1200px;
            transform-style: preserve-3d
        }

        /* === HEADER === */
        header {
            padding: 20px;
            text-align: center;
            background: linear-gradient(135deg, #fff 0%, var(--primary-light) 100%);
            border-bottom: 3px solid var(--primary);
            position: relative;
            overflow: hidden
        }

        header::before {
            content: 'üçä';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 120px;
            opacity: .06;
            transform: rotate(15deg)
        }

        header::after {
            content: 'ü•≠';
            position: absolute;
            bottom: -30px;
            left: -20px;
            font-size: 100px;
            opacity: .06;
            transform: rotate(-20deg)
        }

        header h1 {
            font: 900 2rem/1.2 var(--font-h);
            color: var(--primary-dark);
            text-shadow: 0 2px 4px rgba(0, 0, 0, .04)
        }

        header h2 {
            font: 600 .95rem/1.4 var(--font-b);
            color: var(--secondary-dark);
            margin-top: 4px;
            letter-spacing: .3px
        }

        .top-banner {
            display: inline-block;
            background: linear-gradient(110deg, var(--primary), #F39C12);
            color: #fff;
            padding: 10px 28px;
            border-radius: 999px;
            font: 800 .85rem var(--font-h);
            box-shadow: 0 4px 20px rgba(230, 126, 34, .3);
            margin-bottom: 10px;
            animation: bannerPulse 3s ease-in-out infinite
        }

        @keyframes bannerPulse {

            0%,
            100% {
                transform: scale(1)
            }

            50% {
                transform: scale(1.03)
            }
        }

        /* === NAV === */
        nav {
            position: sticky;
            top: 0;
            z-index: 60;
            display: flex;
            justify-content: center;
            gap: 4px;
            padding: 10px 12px;
            background: rgba(255, 255, 255, .88);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-bottom: 1px solid rgba(0, 0, 0, .05);
            transition: all .3s var(--ease);
            flex-wrap: wrap
        }

        nav.scrolled {
            box-shadow: 0 4px 30px rgba(0, 0, 0, .1);
            background: rgba(255, 255, 255, .96)
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            font: 600 .88rem var(--font-h);
            padding: 8px 16px;
            border-radius: 999px;
            transition: all .3s var(--ease);
            transform: translateZ(0)
        }

        nav a:hover {
            background: var(--primary);
            color: #fff;
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(230, 126, 34, .3)
        }

        nav a.active-link {
            background: var(--primary);
            color: #fff
        }

        /* === HERO === */
        .hero {
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(180deg, rgba(26, 26, 46, .5), rgba(26, 26, 46, .3)), url("j1.jpg") center/cover no-repeat
        }

        .hero .content {
            z-index: 2;
            padding: 20px;
            animation: heroIn 1s var(--ease) both
        }

        @keyframes heroIn {
            from {
                opacity: 0;
                transform: translateY(40px) scale(.95)
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1)
            }
        }

        .hero h2 {
            font: 900 2.6rem/1.15 var(--font-h);
            text-shadow: 0 4px 30px rgba(0, 0, 0, .4);
            margin-bottom: 10px
        }

        .hero p {
            font-weight: 500;
            font-size: 1.1rem;
            opacity: .95;
            text-shadow: 0 2px 8px rgba(0, 0, 0, .3)
        }

        .hero-cta {
            display: inline-block;
            margin-top: 20px;
            background: linear-gradient(135deg, var(--primary), #F39C12);
            color: #fff;
            padding: 16px 40px;
            border-radius: 999px;
            text-decoration: none;
            font: 700 1.1rem var(--font-h);
            box-shadow: 0 8px 30px rgba(230, 126, 34, .4);
            transition: all .3s var(--ease);
            transform: translateZ(20px)
        }

        .hero-cta:hover {
            transform: translateY(-4px) translateZ(30px) scale(1.05);
            box-shadow: 0 14px 40px rgba(230, 126, 34, .5)
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: float3d 8s infinite ease-in-out
        }

        .bubble.b1 {
            width: 80px;
            height: 80px;
            left: 5%;
            top: 20%;
            background: radial-gradient(circle, rgba(230, 126, 34, .15), transparent);
            animation-delay: 0s
        }

        .bubble.b2 {
            width: 120px;
            height: 120px;
            right: 8%;
            top: 25%;
            background: radial-gradient(circle, rgba(26, 188, 156, .12), transparent);
            animation-duration: 12s
        }

        .bubble.b3 {
            width: 60px;
            height: 60px;
            left: 15%;
            bottom: 20%;
            background: radial-gradient(circle, rgba(231, 76, 139, .1), transparent);
            animation-delay: 2s;
            animation-duration: 10s
        }

        @keyframes float3d {

            0%,
            100% {
                transform: translateY(0) translateZ(0) rotateX(0)
            }

            50% {
                transform: translateY(-25px) translateZ(30px) rotateX(10deg)
            }
        }

        /* === SECTIONS === */
        section {
            padding: 50px 20px;
            max-width: 1200px;
            margin: 0 auto
        }

        .section-title {
            font: 800 2rem/1.2 var(--font-h);
            color: var(--text);
            display: inline-block;
            position: relative;
            margin-bottom: 8px
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 50px;
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary))
        }

        .section-subtitle {
            color: var(--text-light);
            font-size: .95rem;
            margin-top: 10px
        }

        /* === 3D MENU CARDS === */
        .menu-category {
            margin: 32px 0 14px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            font: 700 1.1rem var(--font-h);
            padding: 12px 24px;
            border-radius: var(--radius);
            display: inline-block;
            box-shadow: 0 6px 25px rgba(230, 126, 34, .25);
            transition: transform .3s var(--ease);
            transform: translateZ(0)
        }

        .menu-category:hover {
            transform: translateY(-2px) translateZ(10px)
        }

        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 16px
        }

        .card {
            background: var(--card);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all .4s var(--ease);
            opacity: 0;
            transform: translateY(30px) rotateX(5deg);
            border: 1px solid rgba(0, 0, 0, .04);
            transform-style: preserve-3d;
            cursor: pointer
        }

        .card.visible {
            opacity: 1;
            transform: translateY(0) rotateX(0);
            transition: all .7s var(--ease)
        }

        .card:hover {
            transform: translateY(-12px) rotateX(-3deg) rotateY(3deg) scale(1.02);
            box-shadow: 0 25px 60px rgba(0, 0, 0, .15)
        }

        .card img {
            width: 100%;
            height: 170px;
            object-fit: cover;
            display: block;
            transition: transform .5s var(--ease);
            background: #f5f5f5
        }

        .card:hover img {
            transform: scale(1.1)
        }

        .card-info {
            padding: 14px
        }

        .card-info h3 {
            font: 600 1rem var(--font-h);
            color: var(--text);
            margin-bottom: 4px
        }

        .card-info .price {
            font: 800 1.1rem var(--font-h);
            color: var(--primary-dark);
            display: inline-block;
            padding: 4px 12px;
            background: var(--primary-light);
            border-radius: 999px
        }

        /* === ORDER SECTION (HERO FEATURE) === */
        #delivery {
            background: linear-gradient(180deg, var(--bg), #FFF3E0);
            padding-top: 60px;
            padding-bottom: 60px
        }

        .order-hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--primary), #F39C12);
            color: #fff;
            padding: 10px 20px;
            border-radius: 999px;
            font: 700 .9rem var(--font-h);
            margin-bottom: 16px;
            box-shadow: 0 4px 20px rgba(230, 126, 34, .3);
            animation: badgeBounce 2s ease-in-out infinite
        }

        @keyframes badgeBounce {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-4px)
            }
        }

        .delivery-box {
            border-radius: var(--radius);
            padding: 28px;
            margin: 24px auto;
            max-width: 750px;
            background: linear-gradient(135deg, rgba(255, 255, 255, .9), rgba(232, 248, 245, .8));
            border: 2px solid rgba(26, 188, 156, .15);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            gap: 16px;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            transform-style: preserve-3d;
            transition: transform .4s var(--ease)
        }

        .delivery-box:hover {
            transform: translateZ(10px) rotateX(-1deg)
        }

        .order-card {
            background: rgba(255, 255, 255, .95);
            border-radius: var(--radius);
            padding: 32px;
            max-width: 900px;
            margin: 20px auto;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, .04);
            transform-style: preserve-3d;
            transition: transform .4s var(--ease)
        }

        .order-card:hover {
            transform: translateZ(8px)
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 16px
        }

        .form-group {
            position: relative
        }

        .form-group label {
            display: block;
            font: 600 .85rem var(--font-h);
            color: var(--text);
            margin-bottom: 6px
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 14px 16px;
            border-radius: var(--radius-sm);
            border: 2px solid #E8E8E8;
            font: 500 1rem var(--font-b);
            transition: all .3s var(--ease);
            background: #fff;
            appearance: none;
            -webkit-appearance: none
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(230, 126, 34, .1);
            transform: translateY(-1px)
        }

        select {
            background: #fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23999' stroke-width='2' fill='none'/%3E%3C/svg%3E") right 14px center/12px no-repeat;
            padding-right: 36px
        }

        button {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            border: none;
            padding: 14px 28px;
            border-radius: 999px;
            font: 700 .95rem var(--font-h);
            cursor: pointer;
            transition: all .3s var(--ease);
            box-shadow: 0 4px 20px rgba(230, 126, 34, .3);
            transform: translateZ(0)
        }

        button:hover {
            transform: translateY(-3px) translateZ(10px);
            box-shadow: 0 10px 30px rgba(230, 126, 34, .4)
        }

        button:active {
            transform: translateY(0)
        }

        button:disabled {
            opacity: .5;
            cursor: not-allowed;
            transform: none !important
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            padding: 14px 28px;
            border-radius: 999px;
            text-decoration: none;
            font: 700 1rem var(--font-h);
            transition: all .3s var(--ease);
            box-shadow: 0 4px 20px rgba(230, 126, 34, .3)
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(230, 126, 34, .4)
        }

        .order-item {
            display: flex;
            gap: 12px;
            align-items: center;
            padding: 12px;
            background: rgba(255, 249, 240, .6);
            border-radius: var(--radius-sm);
            border: 1px solid rgba(230, 126, 34, .1);
            transition: all .3s var(--ease)
        }

        .order-item:hover {
            background: rgba(255, 249, 240, 1);
            transform: translateX(4px)
        }

        .order-item select,
        .order-item input {
            flex: 1;
            min-width: 0
        }

        .totals {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-end;
            font-weight: 700;
            margin-top: 8px
        }

        .totals .box {
            background: linear-gradient(135deg, #fff, var(--primary-light));
            padding: 12px 18px;
            border-radius: var(--radius-sm);
            border: 2px solid rgba(230, 126, 34, .12);
            box-shadow: 0 4px 15px rgba(0, 0, 0, .04);
            font: 700 .95rem var(--font-h);
            transition: transform .3s var(--ease)
        }

        .totals .box:hover {
            transform: translateY(-2px) scale(1.03)
        }

        .order-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center
        }

        /* === ABOUT === */
        #about {
            background: linear-gradient(135deg, #F0FFF4, #E8F8F5);
            border-radius: var(--radius);
            margin: 20px auto;
            padding: 50px 32px;
            max-width: 1200px;
            transform-style: preserve-3d;
            transition: transform .5s var(--ease)
        }

        #about:hover {
            transform: translateZ(5px)
        }

        #about p {
            font-size: 1.1rem;
            line-height: 1.8;
            max-width: 700px
        }

        /* === CONTACT === */
        #contact {
            background: linear-gradient(135deg, #fff, var(--primary-light));
            border-radius: var(--radius);
            margin: 20px auto;
            padding: 50px 32px;
            max-width: 1200px
        }

        #contact p {
            margin: 10px 0;
            font-size: 1.05rem
        }

        .wa-btn {
            display: inline-block;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: #fff;
            padding: 12px 28px;
            border-radius: 999px;
            text-decoration: none;
            font: 700 .95rem var(--font-h);
            box-shadow: 0 4px 20px rgba(37, 211, 102, .3);
            transition: all .3s var(--ease)
        }

        .wa-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(37, 211, 102, .4)
        }

        /* === GALLERY === */
        #gallery .card {
            cursor: pointer
        }

        #gallery .card:hover h3 {
            color: var(--primary)
        }

        /* === FOOTER === */
        footer {
            background: var(--bg-dark);
            color: rgba(255, 255, 255, .8);
            padding: 28px 20px;
            text-align: center;
            border-top: 4px solid var(--primary);
            font: .95rem var(--font-b)
        }

        /* === FLOATING BUTTON === */
        .floating-order {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 120;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            font-size: 1.4rem;
            box-shadow: 0 8px 30px rgba(230, 126, 34, .4);
            cursor: pointer;
            border: 3px solid rgba(255, 255, 255, .3);
            transition: all .3s var(--ease);
            animation: floatBtn 3s ease-in-out infinite
        }

        .floating-order:hover {
            transform: translateY(-4px) scale(1.1) rotateZ(10deg)
        }

        @keyframes floatBtn {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-6px)
            }
        }

        @media(min-width:900px) {
            .floating-order {
                display: none
            }
        }

        /* === CONFIRM OVERLAY === */
        .confirm-overlay {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 200;
            background: rgba(26, 26, 46, .5);
            backdrop-filter: blur(8px);
            visibility: hidden;
            opacity: 0;
            transition: all .3s
        }

        .confirm-overlay.visible {
            visibility: visible;
            opacity: 1
        }

        .confirm-box {
            background: #fff;
            padding: 36px;
            border-radius: var(--radius);
            max-width: 440px;
            width: 92%;
            box-shadow: var(--shadow-lg);
            text-align: center;
            animation: popIn .4s var(--ease)
        }

        @keyframes popIn {
            from {
                transform: scale(.85) translateY(20px);
                opacity: 0
            }

            to {
                transform: scale(1) translateY(0);
                opacity: 1
            }
        }

        .confirm-box h3 {
            font: 700 1.4rem var(--font-h);
            color: var(--text);
            margin-bottom: 8px
        }

        .confirm-box p {
            color: var(--text-light);
            margin: 6px 0
        }

        .confirm-box .orderno {
            font: 900 1.3rem var(--font-h);
            color: var(--primary);
            letter-spacing: 1px
        }

        .confirm-box button {
            margin-top: 12px
        }

        /* === TRACKING === */
        .tracking-panel {
            position: fixed;
            right: 18px;
            bottom: 18px;
            z-index: 250;
            background: #fff;
            padding: 18px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            max-width: 380px;
            display: none;
            border: 1px solid rgba(0, 0, 0, .05)
        }

        .tracking-panel .small {
            font-size: .9rem;
            color: #555
        }

        .upi-qr {
            max-width: 150px;
            border-radius: var(--radius-sm);
            border: 2px solid #f0f0f0;
            padding: 8px;
            background: #fff
        }

        .muted {
            color: var(--text-light)
        }

        .small {
            font-size: .9rem
        }

        .highlight {
            color: #fff;
            font-weight: 900
        }

        /* === PARALLAX SECTIONS === */
        .parallax-bg {
            position: relative;
            overflow: hidden
        }

        .parallax-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: inherit;
            transform: translateZ(-1px) scale(1.5);
            z-index: -1
        }

        /* === RESPONSIVE === */
        @media(max-width:768px) {
            header h1 {
                font-size: 1.5rem
            }

            .hero {
                min-height: 380px
            }

            .hero h2 {
                font-size: 1.7rem
            }

            .menu-items {
                grid-template-columns: repeat(auto-fill, minmax(155px, 1fr));
                gap: 14px
            }

            .card img {
                height: 140px
            }

            nav {
                gap: 2px;
                padding: 8px 6px
            }

            nav a {
                padding: 6px 10px;
                font-size: .8rem
            }

            .delivery-box {
                flex-direction: column;
                text-align: center
            }

            .order-card {
                padding: 20px;
                margin: 12px
            }

            #about,
            #contact {
                margin: 12px;
                padding: 32px 20px;
                border-radius: var(--radius-sm)
            }

            .totals {
                justify-content: center
            }

            .section-title {
                font-size: 1.6rem
            }
        }

        @media(max-width:480px) {
            .hero {
                min-height: 320px
            }

            .hero h2 {
                font-size: 1.4rem
            }

            .hero-cta {
                padding: 12px 28px;
                font-size: 1rem
            }

            .menu-items {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px
            }

            .card-info {
                padding: 10px
            }

            .card-info h3 {
                font-size: .88rem
            }

            .card img {
                height: 120px
            }

            nav a {
                padding: 5px 8px;
                font-size: .76rem
            }
        }
    </style>
</head><body>

    <header>
        <h1>üçπ Ganesh Fresh Juice Centre</h1>
        <h2>Fresh, Healthy & Natural Juices</h2>
    </header>

    <nav id="mainNav">
        <a href="#home">Home</a>
        <a href="#menu">Menu</a>
        <a href="#about">About</a>
        <a href="#gallery">Gallery</a>
        <a href="#delivery">Order Now</a>
        <a href="#contact">Contact</a>
    </nav>

    <div class="hero scene" id="home">
        <div class="bubble b1" aria-hidden="true"></div>
        <div class="bubble b2" aria-hidden="true"></div>
        <div class="bubble b3" aria-hidden="true"></div>
        <div class="content">
            <h2>Welcome to Ganesh Fresh Juice Centre</h2>
            <p>Natural taste, juice made with love ‚Äî open 9 AM ‚Äì 9 PM</p>
            <a href="#delivery" class="hero-cta">üõí Order Online Now</a>
        </div>
    </div>

    <section id="menu" class="scene">
        <div class="section-title">Our Menu</div>
        <p class="section-subtitle">Freshly prepared with love ‚Äî pick your favorites!</p>

        <div class="menu-category">üçπ Juices</div>
        <div class="menu-items">
            <div class="card"><img src="apple.jpg" alt="Apple Juice">
                <div class="card-info">
                    <h3>Apple Juice</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="orange .jpg" alt="Orange Juice">
                <div class="card-info">
                    <h3>Orange Juice</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="pain apple.jpg" alt="Pineapple Juice">
                <div class="card-info">
                    <h3>Pineapple Juice</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="grapes .jpg" alt="Grape Juice">
                <div class="card-info">
                    <h3>Grape Juice</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="puply grape.jpg" alt="Pulpy Grape">
                <div class="card-info">
                    <h3>Pulpy Grape</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="water million .jpg" alt="Watermelon Juice">
                <div class="card-info">
                    <h3>Watermelon Juice</h3><span class="price">‚Çπ45</span>
                </div>
            </div>
            <div class="card"><img src="karbuja.jpg" alt="Musk Melon Juice">
                <div class="card-info">
                    <h3>Musk Melon Juice</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="carrot .jpg" alt="Carrot Juice">
                <div class="card-info">
                    <h3>Carrot Juice</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="abc.webp" alt="ABC Juice">
                <div class="card-info">
                    <h3>ABC Juice</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="nalikayi.jpg" alt="Amla Juice">
                <div class="card-info">
                    <h3>Amla Juice</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="bitrot.jpg" alt="Beetroot Juice">
                <div class="card-info">
                    <h3>Beetroot Juice</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="lemon juice.jpg" alt="Lemon Juice">
                <div class="card-info">
                    <h3>Lemon Juice</h3><span class="price">‚Çπ35</span>
                </div>
            </div>
            <div class="card"><img src="mosubi.jpg" alt="Mosambi Juice">
                <div class="card-info">
                    <h3>Mosambi Juice</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="Fruit bowl.jpg" alt="Fruit Bowl">
                <div class="card-info">
                    <h3>Fruit Bowl</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="mosubi.jpg" alt="Pure Mosambi">
                <div class="card-info">
                    <h3>Pure Mosambi (no water)</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="orange .jpg" alt="Pure Orange">
                <div class="card-info">
                    <h3>Pure Orange (no water)</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
        </div>

        <div class="menu-category">ü•§ Shakes</div>
        <div class="menu-items">
            <div class="card"><img src="apple shake.jpg" alt="Apple Shake">
                <div class="card-info">
                    <h3>Apple Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="bananas .jpg" alt="Banana Shake">
                <div class="card-info">
                    <h3>Banana Shake</h3><span class="price">‚Çπ50</span>
                </div>
            </div>
            <div class="card"><img src="butter fruits .jpg" alt="Butter Fruit Shake">
                <div class="card-info">
                    <h3>Butter Fruit Shake</h3><span class="price">‚Çπ90</span>
                </div>
            </div>
            <div class="card"><img src="papaya.jpg" alt="Papaya Shake">
                <div class="card-info">
                    <h3>Papaya Shake</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="promogante.jpg" alt="Pomegranate Shake">
                <div class="card-info">
                    <h3>Pomegranate Shake</h3><span class="price">‚Çπ80</span>
                </div>
            </div>
            <div class="card"><img src="mango.jpeg" alt="Mango Shake">
                <div class="card-info">
                    <h3>Mango Shake</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="kiwi .jpg" alt="Kiwi Shake">
                <div class="card-info">
                    <h3>Kiwi Shake</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="anjeer.jpg" alt="Anjeer Shake">
                <div class="card-info">
                    <h3>Anjeer Shake</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="dry fruit.jpg" alt="Dry Fruit Shake">
                <div class="card-info">
                    <h3>Dry Fruit Shake</h3><span class="price">‚Çπ125</span>
                </div>
            </div>
            <div class="card"><img src="dates.jpg" alt="Dates Shake">
                <div class="card-info">
                    <h3>Dates Shake</h3><span class="price">‚Çπ80</span>
                </div>
            </div>
            <div class="card"><img src="orio shake.jpg" alt="Oreo Shake">
                <div class="card-info">
                    <h3>Oreo Shake</h3><span class="price">‚Çπ70</span>
                </div>
            </div>
            <div class="card"><img src="cold badam.jpg" alt="Cold Badam">
                <div class="card-info">
                    <h3>Cold Badam</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="cold cofee.jpg" alt="Cold Coffee">
                <div class="card-info">
                    <h3>Cold Coffee</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="chocolate .jpg" alt="Chocolate Coffee">
                <div class="card-info">
                    <h3>Chocolate Coffee</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="rose milk.jpg" alt="Rose Milk">
                <div class="card-info">
                    <h3>Rose Milk</h3><span class="price">‚Çπ55</span>
                </div>
            </div>
            <div class="card"><img src="sharja.jpg" alt="Sharja">
                <div class="card-info">
                    <h3>Sharja</h3><span class="price">‚Çπ75</span>
                </div>
            </div>
            <div class="card"><img src="trender coco.jpg" alt="Tender Coconut Shake">
                <div class="card-info">
                    <h3>Tender Coconut Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="sapota.jpg" alt="Sapota Shake">
                <div class="card-info">
                    <h3>Sapota Shake</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
        </div>

        <div class="menu-category">ü•õ Lassi</div>
        <div class="menu-items">
            <div class="card"><img src="sweet lassi.jpg" alt="Sweet Lassi">
                <div class="card-info">
                    <h3>Sweet Lassi</h3><span class="price">‚Çπ50</span>
                </div>
            </div>
            <div class="card"><img src="banana lassi.jpg" alt="Banana Lassi">
                <div class="card-info">
                    <h3>Banana Lassi</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="apple lassi.jpg" alt="Apple Lassi">
                <div class="card-info">
                    <h3>Apple Lassi</h3><span class="price">‚Çπ70</span>
                </div>
            </div>
            <div class="card"><img src="mango lassi.jpeg" alt="Mango Lassi">
                <div class="card-info">
                    <h3>Mango Lassi</h3><span class="price">‚Çπ70</span>
                </div>
            </div>
            <div class="card"><img src="pinapple lassi.jpg" alt="Pineapple Lassi">
                <div class="card-info">
                    <h3>Pineapple Lassi</h3><span class="price">‚Çπ65</span>
                </div>
            </div>
            <div class="card"><img src="fruit lassi.jpg" alt="Fruit Lassi">
                <div class="card-info">
                    <h3>Fruit Lassi</h3><span class="price">‚Çπ80</span>
                </div>
            </div>
        </div>

        <div class="menu-category">üç® Ice Cream Shakes</div>
        <div class="menu-items">
            <div class="card"><img src="butter scorch ice cream .jpg" alt="Butterscotch">
                <div class="card-info">
                    <h3>Butterscotch Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="chocolate .jpg" alt="Chocolate">
                <div class="card-info">
                    <h3>Chocolate Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="pista ice cream shake.jpg" alt="Pista">
                <div class="card-info">
                    <h3>Pista Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="strawberry .jpg" alt="Strawberry">
                <div class="card-info">
                    <h3>Strawberry Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="vanila ice cream .jpg" alt="Vanilla">
                <div class="card-info">
                    <h3>Vanilla Shake</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
        </div>

        <div class="menu-category">ü•§ Sugarcane Juice</div>
        <div class="menu-items">
            <div class="card"><img src="sugar_cane_juice.webp" alt="Sugarcane 1L">
                <div class="card-info">
                    <h3>Sugarcane Juice 1 Ltr</h3><span class="price">‚Çπ115</span>
                </div>
            </div>
            <div class="card"><img src="sugarcane-juice2.jpg" alt="Sugarcane 2L">
                <div class="card-info">
                    <h3>Sugarcane Juice 2 Ltr</h3><span class="price">‚Çπ215</span>
                </div>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="section-title">About Us</div>
        <p style="margin-top:16px">At Ganesh Fresh Juice Centre, we serve the freshest and healthiest juices made from
            quality fruits. Grab a healthy drink, quick meal, or a refreshing shake ‚Äî our mission is to refresh you with
            natural taste in every sip!</p>
    </section>

    <section>
        <div class="menu-category">üç± Meals</div>
        <div class="menu-items">
            <div class="card"><img src="healthy meal.jpg" alt="Healthy Meal">
                <div class="card-info">
                    <h3>Healthy Meal</h3><span class="price">‚Çπ85</span>
                </div>
            </div>
            <div class="card"><img src="protein meal.jpg" alt="Protein Meal">
                <div class="card-info">
                    <h3>Protein Meal</h3><span class="price">‚Çπ90</span>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery">
        <div class="section-title">Our Gallery</div>
        <p class="section-subtitle">üì∏ Take a look at our shop and fresh juice creations!</p>
        <div class="menu-items" style="margin-top:16px">
            <div class="card"><img src="g1.jpg" alt="Shop">
                <div class="card-info">
                    <h3>Our Juice Centre</h3>
                </div>
            </div>
            <div class="card"><img src="g2.jpg" alt="Shop">
                <div class="card-info">
                    <h3>Our Juice Centre</h3>
                </div>
            </div>
            <div class="card"><img src="g3.jpg" alt="Shop">
                <div class="card-info">
                    <h3>Our Juice Centre</h3>
                </div>
            </div>
            <div class="card"><img src="g4.jpg" alt="Benefits">
                <div class="card-info">
                    <h3>Health Benefits</h3>
                </div>
            </div>
            <div class="card"><img src="g5.jpg" alt="Benefits">
                <div class="card-info">
                    <h3>Health Benefits</h3>
                </div>
            </div>
            <div class="card"><img src="g6.jpg" alt="Benefits">
                <div class="card-info">
                    <h3>Health Benefits</h3>
                </div>
            </div>
            <div class="card"><img src="j3.jpg" alt="Fresh Juice">
                <div class="card-info">
                    <h3>Fresh Juices</h3>
                </div>
            </div>
            <div class="card"><img src="pain apple.jpg" alt="Lassi">
                <div class="card-info">
                    <h3>Creamy Lassi</h3>
                </div>
            </div>
            <div class="card"><img src="sugar_cane_juice.webp" alt="Sugarcane">
                <div class="card-info">
                    <h3>Sugarcane Juice</h3>
                </div>
            </div>
        </div>
    </section>

    <section id="delivery">
        <div style="text-align:center">
            <div class="order-hero-badge">üõí Place Your Order Online</div>
            <div class="section-title" style="display:block;text-align:center">Home Delivery</div>
        </div>

        <div class="delivery-box">
            <div>
                <p style="margin:0;font-size:1.05rem">üöö We now offer <b>home delivery</b> for your favorite juices and
                    shakes!</p>
                <p class="small muted" style="margin-top:6px">‚úî Minimum Order: ‚Çπ199 &nbsp; ‚úî Delivery Hours: 9 AM ‚Äì 9 PM
                    &nbsp; ‚úî Delivery Radius: 2 km</p>
                <p class="small muted" style="margin-top:6px">Free delivery within 2 km. Above 2 km: ‚Çπ15 per extra km.
                </p>
                <div class="top-banner" style="margin-top:10px">üéâ <strong>Sunday Special:</strong> Buy any 6 items ‚Äî
                    Get <span class="highlight">1 Watermelon Juice FREEüçâ</span></div>
            </div>
        </div>

        <div class="order-card">
            <h3 style="font:700 1.3rem var(--font-h);margin-bottom:16px;text-align:center">üçπ Build Your Order</h3>
            <form id="orderForm">
                <div class="form-group"><label>Your Name</label><input type="text" name="name"
                        placeholder="Enter your name" required></div>
                <div class="form-group"><label>Phone Number</label><input type="tel" name="phone"
                        placeholder="Enter phone number" required></div>
                <div class="form-group"><label>Delivery Address</label><textarea name="address"
                        placeholder="Enter your delivery address" rows="3" required></textarea></div>

                <div style="display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap">
                    <div class="form-group" style="flex:1;min-width:140px">
                        <label>Distance from shop (km)</label>
                        <input type="number" id="distanceInput" step="0.1" min="0" value="1">
                    </div>
                    <div style="display:flex;gap:8px;align-items:center;padding-bottom:2px">
                        <span class="small muted" id="distanceSource">(manual)</span>
                        <button type="button" id="detectDistanceBtn" style="padding:10px 16px;font-size:.85rem">üìç
                            Detect Location</button>
                    </div>
                </div>

                <div id="cart">
                    <div class="order-item">
                        <select class="item" required>
                            <option value="">Select Item</option>
                            <optgroup label="Juices">
                                <option>Apple Juice - ‚Çπ75</option>
                                <option>Orange Juice - ‚Çπ55</option>
                                <option>Mosambi Juice - ‚Çπ55</option>
                                <option>Pineapple Juice - ‚Çπ55</option>
                                <option>Grape Juice - ‚Çπ55</option>
                                <option>Pulpy Grape - ‚Çπ55</option>
                                <option>Watermelon Juice - ‚Çπ45</option>
                                <option>Musk Melon Juice - ‚Çπ55</option>
                                <option>Carrot Juice - ‚Çπ65</option>
                                <option>ABC Juice - ‚Çπ85</option>
                                <option>Amla Juice - ‚Çπ65</option>
                                <option>Beetroot Juice - ‚Çπ65</option>
                                <option>Lemon Juice - ‚Çπ35</option>
                                <option>Fruit Bowl - ‚Çπ85</option>
                                <option>Pure Orange Juice - ‚Çπ75</option>
                                <option>Pure Mosambi Juice - ‚Çπ75</option>
                            </optgroup>
                            <optgroup label="Shakes">
                                <option>Apple Shake - ‚Çπ75</option>
                                <option>Banana Shake - ‚Çπ50</option>
                                <option>Butter Fruit Shake - ‚Çπ90</option>
                                <option>Papaya Shake - ‚Çπ55</option>
                                <option>Pomegranate Shake - ‚Çπ80</option>
                                <option>Mango Shake - ‚Çπ75</option>
                                <option>Kiwi Shake - ‚Çπ75</option>
                                <option>Anjeer Shake - ‚Çπ75</option>
                                <option>Dry Fruit Shake - ‚Çπ125</option>
                                <option>Dates Shake - ‚Çπ80</option>
                                <option>Oreo Shake - ‚Çπ70</option>
                                <option>Cold Badam - ‚Çπ55</option>
                                <option>Cold Coffee - ‚Çπ65</option>
                                <option>Chocolate Coffee - ‚Çπ75</option>
                                <option>Rose Milk - ‚Çπ55</option>
                                <option>Sharja - ‚Çπ75</option>
                                <option>Tender Coconut Shake - ‚Çπ85</option>
                                <option>Sapota Shake - ‚Çπ65</option>
                            </optgroup>
                            <optgroup label="Lassi">
                                <option>Sweet Lassi - ‚Çπ50</option>
                                <option>Banana Lassi - ‚Çπ65</option>
                                <option>Apple Lassi - ‚Çπ70</option>
                                <option>Mango Lassi - ‚Çπ70</option>
                                <option>Pineapple Lassi - ‚Çπ65</option>
                                <option>Fruit Lassi - ‚Çπ80</option>
                            </optgroup>
                            <optgroup label="Ice Cream Shakes">
                                <option>Butterscotch Shake - ‚Çπ85</option>
                                <option>Chocolate Shake - ‚Çπ85</option>
                                <option>Pista Shake - ‚Çπ85</option>
                                <option>Strawberry Shake - ‚Çπ85</option>
                                <option>Vanilla Shake - ‚Çπ85</option>
                            </optgroup>
                            <optgroup label="Sugarcane Juice">
                                <option>Sugarcane Juice 1 Ltr - ‚Çπ115</option>
                                <option>Sugarcane Juice 2 Ltr - ‚Çπ210</option>
                            </optgroup>
                            <optgroup label="Meals">
                                <option>Healthy Meal - ‚Çπ85</option>
                                <option>Protein Meal - ‚Çπ90</option>
                            </optgroup>
                        </select>
                        <input type="number" class="quantity" placeholder="Qty" min="1" value="1" required
                            style="max-width:80px">
                    </div>
                </div>

                <div class="order-actions">
                    <button type="button" onclick="addItem()">‚ûï Add Item</button>
                    <button type="button" onclick="removeLastItem()"
                        style="background:linear-gradient(135deg,#95a5a6,#7f8c8d)">‚ûñ Remove</button>
                </div>

                <div class="totals" id="totalsDisplay" aria-live="polite">
                    <div class="box">Subtotal: <span id="subtotal">‚Çπ0</span></div>
                    <div class="box">Delivery: <span id="deliveryFee">‚Çπ0</span></div>
                    <div class="box"
                        style="background:linear-gradient(135deg,var(--primary-light),#FFE0B2);border-color:var(--primary)">
                        Total: <span id="grandTotal">‚Çπ0</span></div>
                </div>

                <div style="margin-top:6px">
                    <h4 style="font:600 .95rem var(--font-h);margin:6px 0">Payment Method</h4>
                    <label style="margin-right:16px;cursor:pointer"><input type="radio" name="payment" value="cod"
                            checked> üíµ Cash on Delivery</label>
                    <label style="cursor:pointer"><input type="radio" name="payment" value="upi"> üì± Online
                        (UPI)</label>
                    <div id="upiOptions" style="display:none;margin-top:12px;align-items:center;gap:12px">
                        <div>
                            <div class="small">UPI ID: <strong id="upiIdDisplay">jnaneshappu85-1@oksbi</strong></div>
                            <div style="margin-top:6px;display:flex;gap:8px">
                                <button type="button" id="copyUpiBtn" style="padding:8px 16px;font-size:.85rem">üìã Copy
                                    UPI ID</button>
                                <button type="button" id="upiPayBtn"
                                    style="padding:8px 16px;font-size:.85rem;background:linear-gradient(135deg,#9b59b6,#8e44ad)">Open
                                    UPI App</button>
                            </div>
                        </div>
                        <div><img id="upiQrImg" class="upi-qr" src="qrcode.jpg" alt="UPI QR"
                                onerror="this.style.display='none'" /></div>
                    </div>
                </div>

                <div style="text-align:center;margin-top:8px">
                    <button type="submit" id="submitOrder" style="padding:16px 40px;font-size:1.05rem">üöÄ Submit Order
                        via WhatsApp</button>
                </div>
                <div id="orderWarnings"
                    style="color:#e74c3c;font:700 .9rem var(--font-h);margin-top:6px;text-align:center"></div>
            </form>
        </div>
    </section>

    <section id="contact">
        <div class="section-title">Contact Us</div>
        <p style="margin-top:16px">üìç <strong>Location:</strong> GR Building, Nagavarapalya Main Road Bangalore 560093
        </p>
        <p>üìû <strong>Phone:</strong> +91 99025 93591</p>
        <p>‚úâÔ∏è Mail: jnaneshappu85@gmail.com</p>
        <p class="small" style="margin-top:8px">üí¨ WhatsApp: <a class="wa-btn" id="waChat" href="#" target="_blank">Chat
                Now</a></p>
        <p class="small" style="margin-top:8px">üìç Google Maps: <a href="https://maps.app.goo.gl/oF3CBc7Tn2J6uxHv5"
                target="_blank" style="color:var(--primary);font-weight:600">Open in Maps</a></p>
    </section>

    <footer>
        <p>&copy; 2025 Ganesh Fresh Juice Centre | All Rights Reserved</p>
    </footer>

    <div class="floating-order" id="floatOrderBtn" title="Quick order">üõí</div>

    <div id="trackingPanel" class="tracking-panel" style="display:none" aria-live="polite">
        <div><strong>Order:</strong> <span id="tpOrderNo">‚Äî</span></div>
        <div style="margin-top:6px"><strong>Last location:</strong></div>
        <div id="tpCoords" class="small">waiting‚Ä¶</div>
        <div id="tpAddress" class="small muted" style="margin-top:6px">Address: ‚Äî</div>
        <div style="margin-top:6px"><a id="tpMapLink" href="#" target="_blank" class="small"
                style="color:var(--primary)">Open in Google Maps</a></div>
        <div style="margin-top:8px;display:flex;gap:6px">
            <button id="btnStopShare" style="flex:1;background:linear-gradient(135deg,#95a5a6,#7f8c8d)">Stop
                Sharing</button>
            <button id="btnDelivered"
                style="flex:1;background:linear-gradient(135deg,#27ae60,#2ecc71)">Delivered</button>
        </div>
        <div id="tpStatus" class="small muted" style="margin-top:8px"></div>
    </div>

    <div class="confirm-overlay" id="confirmOverlay" aria-hidden="true">
        <div class="confirm-box" role="dialog" aria-modal="true">
            <h3>‚úÖ Order Placed!</h3>
            <p>Thank you ‚Äî your order is being prepared.</p>
            <p>Order Number:</p>
            <div class="orderno" id="confirmOrderNo">GFJ-0000</div>
            <p class="small muted" id="confirmSummary"></p>
            <div style="margin-top:14px;display:flex;gap:8px;justify-content:center">
                <button id="copyOrderBtn">üìã Copy Order</button>
                <button id="closeConfirmBtn" style="background:linear-gradient(135deg,#95a5a6,#7f8c8d)">Close</button>
            </div>
        </div>
    </div><script>
    /* ======== CONFIG ======== */
    const SHOP_PHONE = '919902593591';
    const SHOP_LAT = 12.9863;
    const SHOP_LON = 77.6514;
    const UPI_ID = 'jnaneshappu85-1@oksbi';
    const FREE_RADIUS_KM = 2;
    const EXTRA_PER_KM = 15;
    const MIN_ORDER = 199;
    const SHOP_MAP_SHORTLINK = 'https://maps.app.goo.gl/oF3CBc7Tn2J6uxHv5';
    const APPS_SCRIPT_URL = '';

    /* helpers */
    function makeWhatsAppUrl(phone, msg) { return 'https://wa.me/' + phone + '?text=' + encodeURIComponent(msg); }
    function extractPrice(t) { const m = t.match(/‚Çπ(\d+)/); return m ? Number(m[1]) : 0; }
    function generateOrderNumber() { return 'GFJ-' + Date.now().toString(36).toUpperCase().slice(-6); }
    document.getElementById('waChat').href = makeWhatsAppUrl(SHOP_PHONE, 'Hi! I want to place an order.');

    const distanceSource = document.getElementById('distanceSource');

    /* ======== CARD REVEAL with 3D ======== */
    const obs = new IntersectionObserver((entries) => {
        entries.forEach((e, i) => {
            if (e.isIntersecting) {
                setTimeout(() => e.target.classList.add('visible'), i * 60);
                obs.unobserve(e.target);
            }
        });
    }, { threshold: 0.1 });
    document.querySelectorAll('.card').forEach(c => obs.observe(c));

    /* ======== 3D TILT on cards ======== */
    document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('mousemove', e => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const cx = rect.width / 2;
            const cy = rect.height / 2;
            const rotateX = ((y - cy) / cy) * -8;
            const rotateY = ((x - cx) / cx) * 8;
            card.style.transform = `perspective(600px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-8px) scale(1.02)`;
        });
        card.addEventListener('mouseleave', () => {
            card.style.transform = '';
        });
    });

    /* ======== NAV SCROLL ======== */
    const nav = document.getElementById('mainNav');
    window.addEventListener('scroll', () => {
        nav.classList.toggle('scrolled', window.scrollY > 50);
        // active link
        const sections = document.querySelectorAll('section[id], .hero');
        let current = '';
        sections.forEach(s => { if (window.scrollY >= s.offsetTop - 120) current = s.id || 'home'; });
        nav.querySelectorAll('a').forEach(a => {
            a.classList.toggle('active-link', a.getAttribute('href') === '#' + current);
        });
    });

    /* ======== PARALLAX on hero ======== */
    window.addEventListener('scroll', () => {
        const hero = document.querySelector('.hero');
        if (hero) { hero.style.backgroundPositionY = (window.scrollY * 0.4) + 'px'; }
    });

    /* ======== CART ======== */
    function addItem() {
        const cart = document.getElementById('cart');
        const first = cart.querySelector('.order-item');
        const clone = first.cloneNode(true);
        clone.querySelector('.item').value = '';
        clone.querySelector('.quantity').value = 1;
        clone.style.animation = 'popIn .3s ease';
        cart.appendChild(clone);
        calculateTotals();
    }
    function removeLastItem() {
        const items = document.querySelectorAll('.order-item');
        if (items.length > 1) { items[items.length - 1].remove(); calculateTotals(); }
    }
    document.getElementById('cart').addEventListener('change', calculateTotals);
    document.getElementById('cart').addEventListener('input', calculateTotals);
    document.getElementById('distanceInput').addEventListener('input', calculateTotals);

    function calculateTotals() {
        const items = document.querySelectorAll('.order-item');
        let subtotal = 0;
        items.forEach(it => {
            const sel = it.querySelector('.item');
            const qty = Number(it.querySelector('.quantity').value) || 0;
            const text = sel.value || '';
            subtotal += extractPrice(text) * qty;
        });
        subtotal = Math.round(subtotal);
        let distance = Number(document.getElementById('distanceInput').value) || 0;
        if (distance < 0) distance = 0;
        let deliveryFee = 0;
        if (subtotal > 0) {
            if (distance <= FREE_RADIUS_KM) deliveryFee = 0;
            else { const extra = Math.max(0, Math.ceil(distance - FREE_RADIUS_KM)); deliveryFee = extra * EXTRA_PER_KM; }
        }
        const grandTotal = subtotal + deliveryFee;
        document.getElementById('subtotal').textContent = '‚Çπ' + subtotal;
        document.getElementById('deliveryFee').textContent = '‚Çπ' + deliveryFee;
        document.getElementById('grandTotal').textContent = '‚Çπ' + grandTotal;
        // animate total
        document.getElementById('grandTotal').style.transform = 'scale(1.15)';
        setTimeout(() => document.getElementById('grandTotal').style.transform = '', 200);

        const warnings = document.getElementById('orderWarnings');
        const btn = document.getElementById('submitOrder');
        warnings.textContent = '';
        if (subtotal < MIN_ORDER) {
            warnings.textContent = 'Minimum order ‚Çπ' + MIN_ORDER + ' is required. Add more items.';
            btn.disabled = true; btn.style.opacity = 0.5;
        } else { btn.disabled = false; btn.style.opacity = 1; }
        return { subtotal, deliveryFee, grandTotal };
    }

    /* ======== DISTANCE / GEO ======== */
    function haversineKm(lat1, lon1, lat2, lon2) {
        const toRad = v => v * Math.PI / 180;
        const R = 6371;
        const dLat = toRad(lat2 - lat1);
        const dLon = toRad(lon2 - lon1);
        const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;
        return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    }
    async function setDistanceFromGeolocation(allowUpdate = true) {
        if (!navigator.geolocation) { alert('Geolocation not supported.'); return null; }
        distanceSource.textContent = 'detecting‚Ä¶';
        try {
            const pos = await new Promise((res, rej) => navigator.geolocation.getCurrentPosition(res, rej, { enableHighAccuracy: true, timeout: 10000 }));
            const lat = pos.coords.latitude, lon = pos.coords.longitude;
            const km = Math.round(haversineKm(SHOP_LAT, SHOP_LON, lat, lon) * 10) / 10;
            if (allowUpdate) { document.getElementById('distanceInput').value = km; distanceSource.textContent = 'detected (auto)'; calculateTotals(); }
            else { distanceSource.textContent = `detected (${km} km)`; }
            return { lat, lon, km };
        } catch (err) {
            console.warn('geo error', err);
            distanceSource.textContent = '(manual)';
            if (allowUpdate) alert('Unable to detect location. Enter distance manually.');
            return null;
        }
    }
    document.getElementById('detectDistanceBtn').addEventListener('click', () => setDistanceFromGeolocation(true));

    /* try auto-detect on load */
    setDistanceFromGeolocation(false);

    /* ======== UPI ======== */
    document.querySelectorAll('input[name="payment"]').forEach(r => {
        r.addEventListener('change', () => {
            document.getElementById('upiOptions').style.display = r.value === 'upi' && r.checked ? 'flex' : 'none';
        });
    });
    document.getElementById('copyUpiBtn')?.addEventListener('click', () => {
        navigator.clipboard?.writeText(UPI_ID).then(() => {
            const b = document.getElementById('copyUpiBtn'); b.textContent = 'Copied ‚úì'; setTimeout(() => b.textContent = 'üìã Copy UPI ID', 2000);
        }).catch(() => alert('Copy failed'));
    });
    document.getElementById('upiPayBtn')?.addEventListener('click', () => {
        const t = calculateTotals();
        window.open('upi://pay?pa=' + UPI_ID + '&pn=Ganesh+Juice&am=' + t.grandTotal + '&cu=INR', '_self');
    });

    /* ======== TRACKING ======== */
    let trackingActive = false, trackingInterval = null;
    function startTracking(orderNo) {
        trackingActive = true;
        document.getElementById('tpOrderNo').textContent = orderNo;
        document.getElementById('trackingPanel').style.display = 'block';
        async function updatePos() {
            try {
                const pos = await new Promise((r, j) => navigator.geolocation.getCurrentPosition(r, j, { enableHighAccuracy: true, timeout: 10000 }));
                const lat = pos.coords.latitude, lon = pos.coords.longitude;
                document.getElementById('tpCoords').textContent = `${lat.toFixed(5)}, ${lon.toFixed(5)}`;
                const mLink = `https://www.google.com/maps/search/?api=1&query=${lat},${lon}`;
                document.getElementById('tpMapLink').href = mLink;
                try {
                    const resp = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                    const data = await resp.json();
                    document.getElementById('tpAddress').textContent = 'Address: ' + (data.display_name || '‚Äî');
                } catch (e) { }
                const url = APPS_SCRIPT_URL || '';
                if (url && !url.includes('YOUR_GOOGLE')) {
                    fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ action: 'update_location', orderNo, lat, lon, mapLink: mLink, timestamp: new Date().toISOString() }) }).catch(() => { });
                }
            } catch (err) { document.getElementById('tpStatus').textContent = 'Location error: ' + (err.message || err); }
        }
        updatePos();
        trackingInterval = setInterval(updatePos, 30000);
    }
    function stopTracking() { trackingActive = false; clearInterval(trackingInterval); document.getElementById('trackingPanel').style.display = 'none'; }
    document.getElementById('btnStopShare').addEventListener('click', stopTracking);
    document.getElementById('btnDelivered').addEventListener('click', () => { alert('Marked as delivered!'); stopTracking(); });

    /* ======== ORDER SUBMIT ======== */
    document.getElementById('orderForm').addEventListener('submit', async function (e) {
        e.preventDefault();
        const totals = calculateTotals();
        if (totals.subtotal < MIN_ORDER) { alert('Minimum order ‚Çπ' + MIN_ORDER + ' required.'); return; }
        const name = this.name.value.trim();
        const phone = this.phone.value.trim();
        const address = this.address.value.trim();
        const distance = Number(document.getElementById('distanceInput').value) || 0;
        const payment = document.querySelector('input[name="payment"]:checked').value;
        const itemsEls = document.querySelectorAll('.order-item');
        const items = [];
        itemsEls.forEach(it => {
            const item = it.querySelector('.item').value.trim();
            const qty = Number(it.querySelector('.quantity').value) || 0;
            if (item && qty > 0) items.push(item + ' x ' + qty);
        });
        const orderNo = generateOrderNumber();
        document.getElementById('confirmOrderNo').textContent = orderNo;
        document.getElementById('confirmSummary').textContent = `Total: ‚Çπ${totals.grandTotal} ¬∑ Items: ${items.length}`;
        document.getElementById('confirmOverlay').classList.add('visible');

        let detectedLoc = null;
        try {
            detectedLoc = await new Promise((r, j) => navigator.geolocation.getCurrentPosition(r, j, { enableHighAccuracy: true, timeout: 10000 }));
            detectedLoc = { lat: detectedLoc.coords.latitude, lon: detectedLoc.coords.longitude, accuracy: detectedLoc.coords.accuracy };
        } catch (e) { detectedLoc = null; }

        const payload = {
            action: 'create_order', orderNo, name, phone, address, distance,
            items, subtotal: totals.subtotal, delivery: totals.deliveryFee, total: totals.grandTotal,
            paymentMethod: payment, upiId: payment === 'upi' ? UPI_ID : '',
            location: detectedLoc,
            mapLink: detectedLoc ? `https://www.google.com/maps/search/?api=1&query=${detectedLoc.lat},${detectedLoc.lon}` : '',
            timestamp: new Date().toISOString()
        };
        try {
            const url = APPS_SCRIPT_URL || '';
            if (url && !url.includes('YOUR_GOOGLE')) {
                fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }).catch(() => { });
            }
        } catch (e) { }

        const lines = [
            'üçπ New Order', `Order No: ${orderNo}`, `Name: ${name}`, `Phone: ${phone}`,
            `Address: ${address}`, `Distance (km): ${distance}`, 'Items:', ...items,
            `Subtotal: ‚Çπ${totals.subtotal}`, `Delivery: ‚Çπ${totals.deliveryFee}`, `Total: ‚Çπ${totals.grandTotal}`,
            `Payment: ${payment === 'cod' ? 'Cash on Delivery' : 'UPI (' + UPI_ID + ')'}`,
            `Shop: ${SHOP_MAP_SHORTLINK}`
        ];
        if (payload.mapLink) lines.push(`Location: ${payload.mapLink}`);
        window.open(makeWhatsAppUrl(SHOP_PHONE, lines.join('\n')), '_blank');

        if (payment === 'upi') alert('Please pay ‚Çπ' + totals.grandTotal + ' via UPI (' + UPI_ID + ') and inform us on WhatsApp.');
        startTracking(orderNo);
    });

    /* ======== CONFIRM OVERLAY ======== */
    document.getElementById('closeConfirmBtn').addEventListener('click', () => document.getElementById('confirmOverlay').classList.remove('visible'));
    document.getElementById('copyOrderBtn').addEventListener('click', () => {
        const code = document.getElementById('confirmOrderNo').textContent;
        navigator.clipboard?.writeText(code).then(() => {
            const b = document.getElementById('copyOrderBtn'); b.textContent = 'Copied ‚úì'; setTimeout(() => b.textContent = 'üìã Copy Order', 2000);
        }).catch(() => alert('Copy not supported.'));
    });

    /* floating button */
    document.getElementById('floatOrderBtn').addEventListener('click', () => {
        document.getElementById('delivery').scrollIntoView({ behavior: 'smooth' });
    });

    /* ======== BEFOREUNLOAD ======== */
    window.addEventListener('beforeunload', function (e) {
        if (trackingActive) { const msg = 'Location sharing active ‚Äî leaving will stop sharing.'; e.returnValue = msg; return msg; }
    });
</script>
</body>

</html>