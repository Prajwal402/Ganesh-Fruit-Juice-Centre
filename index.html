<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Ganesh Fresh Juice Centre ‚Äî Fresh, healthy & natural juices, shakes, lassi and meals. Order online for home delivery in Bangalore." />
  <title>Ganesh Fresh Juice Centre | Order Fresh Juices Online</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --pri: #E67E22;
      --pri-dk: #D35400;
      --pri-lt: #FDEBD0;
      --sec: #1ABC9C;
      --sec-dk: #16A085;
      --acc: #E74C8B;
      --acc-lt: #FDEDF4;
      --bg: #FFF9F0;
      --bg-dk: #1A1A2E;
      --txt: #2C3E50;
      --txt-lt: #7F8C8D;
      --card: #ffffff;
      --r: 18px;
      --rs: 12px;
      --sh: 0 8px 32px rgba(0, 0, 0, .08);
      --sh-lg: 0 20px 60px rgba(0, 0, 0, .14);
      --fh: 'Poppins', sans-serif;
      --fb: 'Inter', 'Segoe UI', sans-serif;
      --ez: cubic-bezier(.4, 0, .2, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    html {
      scroll-behavior: smooth
    }

    body {
      font-family: var(--fb);
      background: var(--bg);
      color: var(--txt);
      -webkit-font-smoothing: antialiased;
      line-height: 1.6;
      overflow-x: hidden
    }

    /* HEADER */
    header {
      padding: 18px 20px;
      text-align: center;
      background: linear-gradient(135deg, #fff 0%, var(--pri-lt) 100%);
      border-bottom: 3px solid var(--pri);
      position: relative;
      overflow: hidden
    }

    header::before {
      content: 'üçä';
      position: absolute;
      top: -20px;
      right: -20px;
      font-size: 110px;
      opacity: .05;
      transform: rotate(15deg)
    }

    header h1 {
      font: 900 1.8rem/1.2 var(--fh);
      color: var(--pri-dk)
    }

    header h2 {
      font: 600 .9rem/1.4 var(--fb);
      color: var(--sec-dk);
      margin-top: 2px
    }

    /* NAV */
    nav {
      position: sticky;
      top: 0;
      z-index: 80;
      display: flex;
      justify-content: center;
      gap: 4px;
      padding: 10px 12px;
      background: rgba(255, 255, 255, .88);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      border-bottom: 1px solid rgba(0, 0, 0, .05);
      transition: all .3s var(--ez);
      flex-wrap: wrap
    }

    nav.scrolled {
      box-shadow: 0 4px 30px rgba(0, 0, 0, .1);
      background: rgba(255, 255, 255, .96)
    }

    nav a {
      color: var(--txt);
      text-decoration: none;
      font: 600 .85rem var(--fh);
      padding: 7px 14px;
      border-radius: 999px;
      transition: all .3s var(--ez)
    }

    nav a:hover,
    nav a.active {
      background: var(--pri);
      color: #fff;
      transform: translateY(-2px) scale(1.04);
      box-shadow: 0 6px 20px rgba(230, 126, 34, .25)
    }

    /* HERO */
    .hero {
      min-height: 480px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(26, 26, 46, .55), rgba(26, 26, 46, .35)), url("j1.jpg") center/cover no-repeat
    }

    .hero .content {
      z-index: 2;
      padding: 20px;
      animation: heroIn .8s var(--ez) both
    }

    @keyframes heroIn {
      from {
        opacity: 0;
        transform: translateY(40px) scale(.96)
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1)
      }
    }

    .hero h2 {
      font: 900 2.4rem/1.15 var(--fh);
      text-shadow: 0 4px 30px rgba(0, 0, 0, .4);
      margin-bottom: 8px
    }

    .hero p {
      font-weight: 500;
      font-size: 1.05rem;
      opacity: .93;
      text-shadow: 0 2px 8px rgba(0, 0, 0, .3)
    }

    .hero-cta {
      display: inline-block;
      margin-top: 18px;
      background: linear-gradient(135deg, var(--pri), #F39C12);
      color: #fff;
      padding: 15px 38px;
      border-radius: 999px;
      text-decoration: none;
      font: 700 1.05rem var(--fh);
      box-shadow: 0 8px 30px rgba(230, 126, 34, .4);
      transition: all .3s var(--ez)
    }

    .hero-cta:hover {
      transform: translateY(-4px) scale(1.06);
      box-shadow: 0 14px 40px rgba(230, 126, 34, .5)
    }

    .bubble {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      animation: bfloat 8s infinite ease-in-out
    }

    .b1 {
      width: 70px;
      height: 70px;
      left: 5%;
      top: 18%;
      background: radial-gradient(circle, rgba(230, 126, 34, .12), transparent)
    }

    .b2 {
      width: 100px;
      height: 100px;
      right: 8%;
      top: 22%;
      background: radial-gradient(circle, rgba(26, 188, 156, .1), transparent);
      animation-duration: 11s
    }

    .b3 {
      width: 55px;
      height: 55px;
      left: 12%;
      bottom: 18%;
      background: radial-gradient(circle, rgba(231, 76, 139, .08), transparent);
      animation-delay: 2s;
      animation-duration: 9s
    }

    @keyframes bfloat {

      0%,
      100% {
        transform: translateY(0) rotate(0)
      }

      50% {
        transform: translateY(-22px) rotate(8deg)
      }
    }

    /* SECTIONS */
    section {
      padding: 50px 20px;
      max-width: 1200px;
      margin: 0 auto
    }

    .stitle {
      font: 800 1.9rem/1.2 var(--fh);
      color: var(--txt);
      position: relative;
      display: inline-block;
      margin-bottom: 6px
    }

    .stitle::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 45px;
      height: 4px;
      border-radius: 2px;
      background: linear-gradient(90deg, var(--pri), var(--sec))
    }

    .ssub {
      color: var(--txt-lt);
      font-size: .93rem;
      margin-top: 8px
    }

    /* MENU CATEGORY */
    .mcat {
      margin: 30px 0 14px;
      background: linear-gradient(135deg, var(--pri), var(--pri-dk));
      color: #fff;
      font: 700 1.05rem var(--fh);
      padding: 11px 22px;
      border-radius: var(--r);
      display: inline-block;
      box-shadow: 0 6px 22px rgba(230, 126, 34, .22);
      transition: transform .3s var(--ez)
    }

    .mcat:hover {
      transform: translateY(-2px)
    }

    /* 3D CARDS */
    .mgrid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 14px;
      perspective: 800px
    }

    .card {
      background: var(--card);
      border-radius: var(--r);
      overflow: hidden;
      box-shadow: var(--sh);
      transition: all .5s var(--ez);
      opacity: 0;
      transform: translateY(35px);
      border: 1px solid rgba(0, 0, 0, .04);
      transform-style: preserve-3d;
      cursor: pointer;
      position: relative
    }

    .card.vis {
      opacity: 1;
      transform: translateY(0)
    }

    .card:hover {
      box-shadow: 0 25px 50px rgba(0, 0, 0, .15)
    }

    .card:active {
      transform: scale(.97) !important;
      transition: transform .1s
    }

    .card img {
      width: 100%;
      height: 170px;
      object-fit: cover;
      display: block;
      transition: transform .5s var(--ez);
      background: #f0f0f0
    }

    .card:hover img {
      transform: scale(1.08)
    }

    .cinfo {
      padding: 12px 14px
    }

    .cinfo h3 {
      font: 600 .95rem var(--fh);
      color: var(--txt);
      margin-bottom: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis
    }

    .cinfo .cprice {
      font: 800 1.05rem var(--fh);
      color: var(--pri-dk);
      padding: 3px 10px;
      background: var(--pri-lt);
      border-radius: 999px;
      display: inline-block
    }

    /* ADD TO CART BTN */
    .card-add {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      width: calc(100% - 24px);
      margin: 0 12px 12px;
      padding: 10px;
      border-radius: var(--rs);
      border: 2px solid var(--pri);
      background: transparent;
      color: var(--pri-dk);
      font: 700 .85rem var(--fh);
      cursor: pointer;
      transition: all .25s var(--ez)
    }

    .card-add:hover {
      background: var(--pri);
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(230, 126, 34, .25)
    }

    .card-add:active {
      transform: scale(.95)
    }

    .card-add.added {
      background: var(--sec);
      color: #fff;
      border-color: var(--sec)
    }

    @keyframes cartPop {
      0% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.3)
      }

      100% {
        transform: scale(1)
      }
    }

    @keyframes flyToCart {
      0% {
        opacity: 1;
        transform: translate(0, 0) scale(1)
      }

      100% {
        opacity: 0;
        transform: translate(50px, -80px) scale(.3)
      }
    }

    .fly-dot {
      position: fixed;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--pri);
      z-index: 999;
      pointer-events: none;
      animation: flyToCart .5s var(--ez) forwards
    }

    /* CART ICON */
    .cart-float {
      position: fixed;
      right: 20px;
      bottom: 20px;
      z-index: 120;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--pri), var(--pri-dk));
      color: #fff;
      font-size: 1.4rem;
      box-shadow: 0 8px 30px rgba(230, 126, 34, .4);
      cursor: pointer;
      border: 3px solid rgba(255, 255, 255, .3);
      transition: all .3s var(--ez);
      animation: cfloat 3s ease-in-out infinite
    }

    .cart-float:hover {
      transform: scale(1.1)
    }

    .cart-float.bounce {
      animation: cartPop .4s var(--ez)
    }

    @keyframes cfloat {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-5px)
      }
    }

    .cart-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--acc);
      color: #fff;
      font: 700 .75rem var(--fh);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #fff;
      transition: transform .3s var(--ez)
    }

    .cart-badge.pop {
      animation: cartPop .3s var(--ez)
    }

    /* CART DRAWER */
    .cart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(26, 26, 46, .4);
      backdrop-filter: blur(6px);
      z-index: 200;
      opacity: 0;
      visibility: hidden;
      transition: all .3s var(--ez)
    }

    .cart-overlay.open {
      opacity: 1;
      visibility: visible
    }

    .cart-drawer {
      position: fixed;
      top: 0;
      right: -420px;
      width: 400px;
      max-width: 92vw;
      height: 100vh;
      background: #fff;
      z-index: 210;
      box-shadow: -10px 0 40px rgba(0, 0, 0, .15);
      transition: right .4s var(--ez);
      display: flex;
      flex-direction: column;
      overflow: hidden
    }

    .cart-drawer.open {
      right: 0
    }

    .cart-head {
      padding: 20px;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    .cart-head h3 {
      font: 700 1.2rem var(--fh);
      color: var(--txt)
    }

    .cart-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: #f5f5f5;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all .2s var(--ez);
      display: flex;
      align-items: center;
      justify-content: center
    }

    .cart-close:hover {
      background: #eee;
      transform: rotate(90deg)
    }

    .cart-body {
      flex: 1;
      overflow-y: auto;
      padding: 16px
    }

    .cart-empty {
      text-align: center;
      padding: 40px 20px;
      color: var(--txt-lt)
    }

    .cart-empty span {
      font-size: 3rem;
      display: block;
      margin-bottom: 12px
    }

    .ci {
      display: flex;
      gap: 12px;
      padding: 14px;
      background: var(--bg);
      border-radius: var(--rs);
      margin-bottom: 10px;
      align-items: center;
      transition: all .3s var(--ez);
      animation: slideIn .3s var(--ez)
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(20px)
      }

      to {
        opacity: 1;
        transform: translateX(0)
      }
    }

    .ci img {
      width: 56px;
      height: 56px;
      border-radius: 10px;
      object-fit: cover
    }

    .ci-info {
      flex: 1;
      min-width: 0
    }

    .ci-info h4 {
      font: 600 .9rem var(--fh);
      color: var(--txt);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis
    }

    .ci-info .ci-price {
      font: 700 .85rem var(--fh);
      color: var(--pri-dk)
    }

    .qty-ctrl {
      display: flex;
      align-items: center;
      gap: 0;
      border-radius: var(--rs);
      overflow: hidden;
      border: 2px solid #e8e8e8;
      background: #fff
    }

    .qty-btn {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      font: 700 1.1rem var(--fh);
      cursor: pointer;
      transition: background .2s;
      color: var(--txt);
      display: flex;
      align-items: center;
      justify-content: center
    }

    .qty-btn:hover {
      background: var(--pri-lt)
    }

    .qty-val {
      width: 32px;
      text-align: center;
      font: 700 .9rem var(--fh);
      color: var(--txt);
      border: none;
      background: transparent
    }

    .ci-del {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: none;
      background: #fee;
      color: var(--acc);
      font-size: .9rem;
      cursor: pointer;
      transition: all .2s var(--ez);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center
    }

    .ci-del:hover {
      background: var(--acc);
      color: #fff;
      transform: scale(1.1)
    }

    .cart-foot {
      padding: 16px 20px;
      border-top: 1px solid #f0f0f0;
      background: #fff
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font: 700 1.1rem var(--fh);
      margin-bottom: 12px
    }

    .cart-total span:last-child {
      color: var(--pri-dk);
      font-size: 1.3rem
    }

    .cart-checkout {
      width: 100%;
      padding: 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, var(--pri), var(--pri-dk));
      color: #fff;
      font: 700 1rem var(--fh);
      cursor: pointer;
      box-shadow: 0 6px 24px rgba(230, 126, 34, .3);
      transition: all .3s var(--ez)
    }

    .cart-checkout:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(230, 126, 34, .4)
    }

    .cart-checkout:disabled {
      opacity: .5;
      cursor: not-allowed;
      transform: none !important
    }

    /* ORDER SECTION */
    #delivery {
      background: linear-gradient(180deg, var(--bg), #FFF3E0);
      padding-top: 50px;
      padding-bottom: 50px
    }

    .order-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--pri), #F39C12);
      color: #fff;
      padding: 9px 18px;
      border-radius: 999px;
      font: 700 .88rem var(--fh);
      margin-bottom: 14px;
      box-shadow: 0 4px 18px rgba(230, 126, 34, .3);
      animation: bbounce 2s ease-in-out infinite
    }

    @keyframes bbounce {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-3px)
      }
    }

    .ocard {
      background: rgba(255, 255, 255, .95);
      border-radius: var(--r);
      padding: 28px;
      max-width: 800px;
      margin: 16px auto;
      box-shadow: var(--sh-lg);
      border: 1px solid rgba(0, 0, 0, .04);
      transition: transform .4s var(--ez)
    }

    .dbox {
      border-radius: var(--r);
      padding: 24px;
      margin: 20px auto;
      max-width: 800px;
      background: linear-gradient(135deg, rgba(255, 255, 255, .9), rgba(232, 248, 245, .7));
      border: 2px solid rgba(26, 188, 156, .12);
      box-shadow: var(--sh);
      display: flex;
      gap: 14px;
      align-items: center;
      flex-wrap: wrap
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 14px
    }

    .fg {
      position: relative
    }

    .fg label {
      display: block;
      font: 600 .85rem var(--fh);
      color: var(--txt);
      margin-bottom: 5px
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 13px 15px;
      border-radius: var(--rs);
      border: 2px solid #E8E8E8;
      font: 500 .95rem var(--fb);
      transition: all .3s var(--ez);
      background: #fff
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: var(--pri);
      box-shadow: 0 0 0 4px rgba(230, 126, 34, .1);
      transform: translateY(-1px)
    }

    select {
      background: #fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23999' stroke-width='2' fill='none'/%3E%3C/svg%3E") right 14px center/12px no-repeat;
      padding-right: 34px;
      -webkit-appearance: none;
      appearance: none
    }

    button,
    .btn {
      display: inline-block;
      background: linear-gradient(135deg, var(--pri), var(--pri-dk));
      color: #fff;
      padding: 12px 24px;
      border-radius: 999px;
      border: none;
      text-decoration: none;
      font: 700 .95rem var(--fh);
      cursor: pointer;
      transition: all .3s var(--ez);
      box-shadow: 0 4px 18px rgba(230, 126, 34, .25)
    }

    button:hover,
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 26px rgba(230, 126, 34, .35)
    }

    button:active {
      transform: scale(.97)
    }

    button:disabled {
      opacity: .5;
      cursor: not-allowed;
      transform: none !important
    }

    .totals {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      font-weight: 700;
      margin-top: 8px
    }

    .totals .box {
      background: linear-gradient(135deg, #fff, var(--pri-lt));
      padding: 11px 16px;
      border-radius: var(--rs);
      border: 2px solid rgba(230, 126, 34, .1);
      font: 700 .92rem var(--fh);
      transition: transform .3s var(--ez)
    }

    .totals .box:hover {
      transform: translateY(-2px) scale(1.02)
    }

    @keyframes pricePop {
      0% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.2)
      }

      100% {
        transform: scale(1)
      }
    }

    /* MAP */
    .map-box {
      border-radius: var(--rs);
      overflow: hidden;
      border: 2px solid #e8e8e8;
      margin-top: 10px;
      box-shadow: var(--sh)
    }

    .map-box iframe {
      width: 100%;
      height: 220px;
      border: 0
    }

    /* ABOUT ‚Äî 3D IMMERSIVE SECTION */
    #about {
      position: relative;
      overflow: hidden;
      border-radius: 0;
      margin: 0;
      padding: 80px 30px;
      max-width: 100%;
      background: linear-gradient(135deg, #1A1A2E 0%, #16213E 40%, #0F3460 70%, #1A1A2E 100%);
      isolation: isolate
    }

    #aboutCanvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none
    }

    .about-glow {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      pointer-events: none;
      z-index: 0;
      animation: aboutGlowFloat 8s ease-in-out infinite alternate
    }

    .about-glow.g1 {
      width: 300px;
      height: 300px;
      left: -5%;
      top: -10%;
      background: radial-gradient(circle, rgba(230, 126, 34, .25), transparent 70%)
    }

    .about-glow.g2 {
      width: 350px;
      height: 350px;
      right: -8%;
      top: 20%;
      background: radial-gradient(circle, rgba(231, 76, 139, .2), transparent 70%);
      animation-delay: -3s;
      animation-duration: 10s
    }

    .about-glow.g3 {
      width: 280px;
      height: 280px;
      left: 30%;
      bottom: -15%;
      background: radial-gradient(circle, rgba(26, 188, 156, .2), transparent 70%);
      animation-delay: -5s;
      animation-duration: 12s
    }

    .about-glow.g4 {
      width: 200px;
      height: 200px;
      right: 20%;
      bottom: 10%;
      background: radial-gradient(circle, rgba(241, 196, 15, .15), transparent 70%);
      animation-delay: -2s;
      animation-duration: 9s
    }

    @keyframes aboutGlowFloat {
      0% {
        transform: translate(0, 0) scale(1)
      }

      100% {
        transform: translate(20px, -15px) scale(1.15)
      }
    }

    /* Floating Fruit Shapes */
    .about-shape {
      position: absolute;
      z-index: 1;
      font-size: 2.5rem;
      opacity: .12;
      pointer-events: none;
      animation: aboutShapeFloat 12s ease-in-out infinite
    }

    .about-shape:nth-child(1) {
      left: 5%;
      top: 15%;
      animation-delay: 0s;
      font-size: 3rem
    }

    .about-shape:nth-child(2) {
      right: 8%;
      top: 10%;
      animation-delay: -2s;
      font-size: 2rem
    }

    .about-shape:nth-child(3) {
      left: 15%;
      bottom: 10%;
      animation-delay: -4s;
      font-size: 2.8rem
    }

    .about-shape:nth-child(4) {
      right: 12%;
      bottom: 20%;
      animation-delay: -6s;
      font-size: 2.2rem
    }

    .about-shape:nth-child(5) {
      left: 50%;
      top: 8%;
      animation-delay: -8s;
      font-size: 1.8rem
    }

    .about-shape:nth-child(6) {
      right: 35%;
      bottom: 5%;
      animation-delay: -10s;
      font-size: 2.4rem
    }

    @keyframes aboutShapeFloat {

      0%,
      100% {
        transform: translateY(0) rotate(0deg)
      }

      25% {
        transform: translateY(-15px) rotate(5deg)
      }

      50% {
        transform: translateY(-8px) rotate(-3deg)
      }

      75% {
        transform: translateY(-20px) rotate(4deg)
      }
    }

    /* Glass Content Card */
    .about-glass {
      position: relative;
      z-index: 2;
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, .08);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, .12);
      padding: 48px 40px;
      box-shadow: 0 16px 60px rgba(0, 0, 0, .3), inset 0 1px 0 rgba(255, 255, 255, .1);
      transform: perspective(1000px) rotateX(0deg);
      transition: transform .6s ease
    }

    .about-glass:hover {
      transform: perspective(1000px) rotateX(1deg) translateY(-4px);
      box-shadow: 0 24px 80px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .15)
    }

    .about-glass .stitle {
      color: #fff;
      text-align: center;
      margin-bottom: 8px
    }

    .about-glass .stitle::after {
      background: linear-gradient(90deg, var(--pri), var(--sec), var(--acc)) !important
    }

    .about-tagline {
      text-align: center;
      font: 600 .9rem var(--fh);
      color: rgba(255, 255, 255, .5);
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-bottom: 20px
    }

    .about-text {
      font-size: 1.08rem;
      line-height: 1.9;
      color: rgba(255, 255, 255, .85);
      text-align: center;
      max-width: 650px;
      margin: 0 auto 30px
    }

    /* Feature Cards */
    .about-features {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-top: 24px
    }

    .about-feat {
      background: rgba(255, 255, 255, .06);
      border: 1px solid rgba(255, 255, 255, .08);
      border-radius: 16px;
      padding: 24px 18px;
      text-align: center;
      transition: all .4s ease
    }

    .about-feat:hover {
      background: rgba(255, 255, 255, .12);
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, .2)
    }

    .about-feat .feat-icon {
      font-size: 2.2rem;
      margin-bottom: 10px;
      display: block
    }

    .about-feat .feat-title {
      font: 700 .92rem var(--fh);
      color: #fff;
      margin-bottom: 6px
    }

    .about-feat .feat-desc {
      font: 400 .82rem var(--fb);
      color: rgba(255, 255, 255, .6);
      line-height: 1.5
    }

    .about-cta {
      text-align: center;
      margin-top: 30px
    }

    .about-cta a {
      display: inline-block;
      background: linear-gradient(135deg, var(--pri), var(--pri-dk));
      color: #fff;
      padding: 14px 36px;
      border-radius: 999px;
      text-decoration: none;
      font: 700 .95rem var(--fh);
      box-shadow: 0 6px 24px rgba(230, 126, 34, .35);
      transition: all .3s ease
    }

    .about-cta a:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(230, 126, 34, .45)
    }

    @media(max-width:768px) {
      #about {
        padding: 50px 16px
      }

      .about-glass {
        padding: 28px 20px;
        border-radius: 18px
      }

      .about-features {
        grid-template-columns: 1fr;
        gap: 12px
      }

      .about-glow {
        filter: blur(60px)
      }

      .about-shape {
        display: none
      }
    }

    #about p {
      font-size: 1.05rem;
      line-height: 1.8;
      max-width: 700px
    }

    /* CONTACT */
    #contact {
      background: linear-gradient(135deg, #fff, var(--pri-lt));
      border-radius: var(--r);
      margin: 20px auto;
      padding: 46px 30px;
      max-width: 1200px
    }

    #contact p {
      margin: 8px 0;
      font-size: 1rem
    }

    .wa-btn {
      display: inline-block;
      background: linear-gradient(135deg, #25D366, #128C7E);
      color: #fff;
      padding: 10px 24px;
      border-radius: 999px;
      text-decoration: none;
      font: 700 .9rem var(--fh);
      box-shadow: 0 4px 18px rgba(37, 211, 102, .25);
      transition: all .3s var(--ez)
    }

    .wa-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(37, 211, 102, .35)
    }

    /* GALLERY */
    #gallery .card:hover .cinfo h3 {
      color: var(--pri)
    }

    /* FOOTER */
    footer {
      background: var(--bg-dk);
      color: rgba(255, 255, 255, .8);
      padding: 24px 20px;
      text-align: center;
      border-top: 4px solid var(--pri);
      font: .92rem var(--fb)
    }

    /* CONFIRM OVERLAY */
    .covl {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 300;
      background: rgba(26, 26, 46, .5);
      backdrop-filter: blur(8px);
      visibility: hidden;
      opacity: 0;
      transition: all .3s
    }

    .covl.vis {
      visibility: visible;
      opacity: 1
    }

    .cbox {
      background: #fff;
      padding: 32px;
      border-radius: var(--r);
      max-width: 420px;
      width: 92%;
      box-shadow: var(--sh-lg);
      text-align: center;
      animation: popIn .4s var(--ez)
    }

    @keyframes popIn {
      from {
        transform: scale(.85) translateY(18px);
        opacity: 0
      }

      to {
        transform: scale(1) translateY(0);
        opacity: 1
      }
    }

    .cbox h3 {
      font: 700 1.3rem var(--fh);
      margin-bottom: 6px
    }

    .cbox p {
      color: var(--txt-lt);
      margin: 5px 0
    }

    .cbox .ono {
      font: 900 1.2rem var(--fh);
      color: var(--pri);
      letter-spacing: 1px
    }

    .cbox button {
      margin-top: 10px
    }

    /* TRACKING */
    .tpanel {
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 250;
      background: #fff;
      padding: 16px;
      border-radius: var(--r);
      box-shadow: var(--sh-lg);
      max-width: 360px;
      display: none;
      border: 1px solid rgba(0, 0, 0, .05)
    }

    /* UPI PAYMENT OVERLAY */
    .upi-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 310;
      background: rgba(26, 26, 46, .55);
      backdrop-filter: blur(10px);
      visibility: hidden;
      opacity: 0;
      transition: all .3s ease
    }

    .upi-overlay.vis {
      visibility: visible;
      opacity: 1
    }

    .upi-card {
      background: #fff;
      padding: 0;
      border-radius: var(--r);
      max-width: 440px;
      width: 92%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, .25);
      animation: popIn .4s var(--ez);
      overflow: hidden
    }

    .upi-header {
      background: linear-gradient(135deg, #5B2D8E, #3F1D6B);
      color: #fff;
      padding: 22px 24px;
      text-align: center;
      position: relative;
      overflow: hidden
    }

    .upi-header::after {
      content: '';
      position: absolute;
      top: -30px;
      right: -30px;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 255, .06);
      border-radius: 50%
    }

    .upi-header h3 {
      font: 700 1.15rem var(--fh);
      margin-bottom: 4px
    }

    .upi-header .upi-order-id {
      font: 600 .82rem var(--fh);
      opacity: .8
    }

    .upi-amount-box {
      text-align: center;
      padding: 20px 24px 16px;
      border-bottom: 1px solid #f0f0f0
    }

    .upi-amount-label {
      font: 600 .82rem var(--fh);
      color: var(--txt-lt);
      text-transform: uppercase;
      letter-spacing: .5px;
      margin-bottom: 4px
    }

    .upi-amount-value {
      font: 900 2.4rem var(--fh);
      color: var(--pri-dk);
      animation: amtPulse 2s ease-in-out 1
    }

    @keyframes amtPulse {
      0% {
        transform: scale(.8);
        opacity: 0
      }

      50% {
        transform: scale(1.05)
      }

      100% {
        transform: scale(1);
        opacity: 1
      }
    }

    .upi-amount-breakdown {
      display: flex;
      justify-content: center;
      gap: 14px;
      margin-top: 6px;
      font: 500 .82rem var(--fb);
      color: var(--txt-lt)
    }

    .upi-body {
      padding: 20px 24px
    }

    .upi-section-title {
      font: 700 .88rem var(--fh);
      color: var(--txt);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 6px
    }

    .upi-apps-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-bottom: 18px
    }

    .upi-app-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 14px 16px;
      border-radius: var(--rs);
      border: 2px solid #e8e8e8;
      background: #fff;
      font: 600 .88rem var(--fh);
      color: var(--txt);
      cursor: pointer;
      transition: all .25s ease;
      text-decoration: none
    }

    .upi-app-btn:hover {
      border-color: var(--pri);
      background: var(--pri-lt);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, .08)
    }

    .upi-app-btn:active {
      transform: scale(.97)
    }

    .upi-app-btn .app-icon {
      font-size: 1.4rem
    }

    .upi-any-btn {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 15px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #5B2D8E, #3F1D6B);
      color: #fff;
      font: 700 .95rem var(--fh);
      cursor: pointer;
      box-shadow: 0 6px 24px rgba(91, 45, 142, .3);
      transition: all .3s ease;
      margin-bottom: 16px
    }

    .upi-any-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(91, 45, 142, .4)
    }

    .upi-divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 16px 0;
      color: var(--txt-lt);
      font: 500 .82rem var(--fb)
    }

    .upi-divider::before,
    .upi-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: #e8e8e8
    }

    .upi-qr-section {
      text-align: center;
      padding: 16px;
      background: #FAFAFA;
      border-radius: var(--rs);
      margin-bottom: 14px
    }

    .upi-qr-section img {
      max-width: 150px;
      border-radius: var(--rs);
      border: 2px solid #e8e8e8;
      padding: 6px;
      background: #fff;
      margin: 8px 0
    }

    .upi-qr-section .qr-label {
      font: 600 .8rem var(--fh);
      color: var(--txt-lt);
      margin-top: 4px
    }

    .upi-id-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: #F5F0FF;
      padding: 10px 16px;
      border-radius: var(--rs);
      margin-bottom: 14px
    }

    .upi-id-row .uid {
      font: 600 .88rem var(--fh);
      color: #5B2D8E
    }

    .upi-id-row button {
      padding: 5px 12px;
      font-size: .78rem;
      border-radius: 999px;
      background: linear-gradient(135deg, #5B2D8E, #3F1D6B);
      min-width: auto
    }

    .upi-footer {
      padding: 14px 24px;
      border-top: 1px solid #f0f0f0;
      display: flex;
      gap: 8px;
      justify-content: center
    }

    .upi-footer button {
      flex: 1;
      padding: 12px;
      border-radius: 999px;
      font-size: .9rem
    }

    .upi-status {
      text-align: center;
      padding: 8px;
      font: 600 .82rem var(--fh);
      border-radius: var(--rs);
      margin-top: 8px
    }

    .upi-status.pending {
      background: #FFF3E0;
      color: #E67E22
    }

    .upi-status.initiated {
      background: #E8F5E9;
      color: #27AE60
    }

    .upi-status.verifying {
      background: #E3F2FD;
      color: #1976D2
    }

    .upi-status.success {
      background: #E8F5E9;
      color: #2E7D32
    }

    .upi-status.failed {
      background: #FFEBEE;
      color: #C62828
    }

    .upi-txn-group {
      margin: 14px 0 8px;
    }

    .upi-txn-group label {
      display: block;
      font: 600 .82rem var(--fh);
      color: var(--txt);
      margin-bottom: 5px;
      text-align: left
    }

    .upi-txn-input {
      width: 100%;
      padding: 12px 14px;
      border-radius: var(--rs);
      border: 2px solid #e8e8e8;
      font: 500 .95rem var(--fb);
      transition: all .3s ease;
      background: #fff;
      text-align: center;
      letter-spacing: .5px;
      box-sizing: border-box
    }

    .upi-txn-input:focus {
      outline: none;
      border-color: #5B2D8E;
      box-shadow: 0 0 0 4px rgba(91, 45, 142, .1)
    }

    .upi-txn-input.error {
      border-color: #e74c3c;
      box-shadow: 0 0 0 4px rgba(231, 76, 60, .1)
    }

    .upi-txn-error {
      font: 600 .78rem var(--fb);
      color: #e74c3c;
      margin-top: 4px;
      text-align: left;
      min-height: 16px
    }

    .upi-spinner {
      display: inline-block;
      width: 18px;
      height: 18px;
      border: 3px solid rgba(255, 255, 255, .3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: upiSpin .7s linear infinite;
      vertical-align: middle;
      margin-right: 6px
    }

    @keyframes upiSpin {
      to {
        transform: rotate(360deg)
      }
    }

    .payment-required-msg {
      text-align: center;
      font: 600 .85rem var(--fh);
      color: #5B2D8E;
      background: #F5F0FF;
      padding: 10px 16px;
      border-radius: var(--rs);
      border: 1px solid rgba(91, 45, 142, .15);
      margin-top: 8px
    }

    .upi-qr {
      max-width: 140px;
      border-radius: var(--rs);
      border: 2px solid #f0f0f0;
      padding: 6px;
      background: #fff
    }

    .muted {
      color: var(--txt-lt)
    }

    .small {
      font-size: .88rem
    }

    .highlight {
      color: #fff;
      font-weight: 900
    }

    .top-banner {
      display: inline-block;
      background: linear-gradient(110deg, var(--pri), #F39C12);
      color: #fff;
      padding: 9px 24px;
      border-radius: 999px;
      font: 800 .83rem var(--fh);
      box-shadow: 0 4px 18px rgba(230, 126, 34, .25);
      animation: bpulse 3s ease-in-out infinite
    }

    @keyframes bpulse {

      0%,
      100% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.02)
      }
    }

    /* RESPONSIVE */
    @media(max-width:768px) {
      header h1 {
        font-size: 1.45rem
      }

      .hero {
        min-height: 360px
      }

      .hero h2 {
        font-size: 1.65rem
      }

      .mgrid {
        grid-template-columns: repeat(auto-fill, minmax(155px, 1fr));
        gap: 14px
      }

      .card img {
        height: 135px
      }

      nav {
        gap: 2px;
        padding: 8px 6px
      }

      nav a {
        padding: 6px 10px;
        font-size: .78rem
      }

      .dbox {
        flex-direction: column;
        text-align: center
      }

      .ocard {
        padding: 18px;
        margin: 10px
      }

      #about,
      #contact {
        margin: 10px;
        padding: 28px 18px
      }

      .stitle {
        font-size: 1.5rem
      }

      .cart-drawer {
        width: 340px
      }
    }

    @media(max-width:480px) {
      .hero {
        min-height: 300px
      }

      .hero h2 {
        font-size: 1.35rem
      }

      .hero-cta {
        padding: 12px 26px;
        font-size: .95rem
      }

      .mgrid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px
      }

      .cinfo {
        padding: 8px 10px
      }

      .cinfo h3 {
        font-size: .85rem
      }

      .card img {
        height: 115px
      }

      nav a {
        padding: 5px 7px;
        font-size: .74rem
      }

      .cart-drawer {
        width: 100vw;
        max-width: 100vw
      }
    }

    /* ===== 3D ANIMATED BACKGROUND ===== */
    #bgCanvas {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      width: 100%;
      height: 100%
    }

    .bg-fallback {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background:
        radial-gradient(ellipse at 15% 20%, rgba(230, 126, 34, .10) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 25%, rgba(241, 196, 15, .08) 0%, transparent 45%),
        radial-gradient(ellipse at 10% 75%, rgba(231, 76, 139, .07) 0%, transparent 50%),
        radial-gradient(ellipse at 85% 70%, rgba(26, 188, 156, .08) 0%, transparent 45%),
        var(--bg)
    }
  </style>
</head>

<body>
  <!-- 3D ANIMATED BACKGROUND -->
  <canvas id="bgCanvas"></canvas>
  <div class="bg-fallback" id="bgFallback" style="display:none"></div>
  <header>
    <h1>üçπ Ganesh Fresh Juice Centre</h1>
    <h2>Fresh, Healthy & Natural Juices</h2>
  </header>

  <nav id="mainNav">
    <a href="#home">Home</a><a href="#menu">Menu</a><a href="#about">About</a>
    <a href="#gallery">Gallery</a><a href="#delivery">Order</a><a href="#contact">Contact</a>
  </nav>

  <!-- HERO -->
  <div class="hero" id="home">
    <div class="bubble b1"></div>
    <div class="bubble b2"></div>
    <div class="bubble b3"></div>
    <div class="content">
      <h2>Welcome to Ganesh Fresh Juice Centre</h2>
      <p>Natural taste, juice made with love ‚Äî open 9 AM ‚Äì 9 PM</p>
      <a href="#menu" class="hero-cta">üõí Explore Menu & Order</a>
    </div>
  </div>

  <!-- MENU -->
  <section id="menu">
    <div class="stitle">Our Menu</div>
    <p class="ssub">Tap "Add to Cart" on any item to build your order!</p>

    <div class="mcat">üçπ Juices</div>
    <div class="mgrid">
      <div class="card" data-name="Apple Juice" data-price="75" data-img="apple.jpg"><img src="apple.jpg"
          alt="Apple Juice">
        <div class="cinfo">
          <h3>Apple Juice</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Orange Juice" data-price="55" data-img="orange .jpg"><img src="orange .jpg"
          alt="Orange Juice">
        <div class="cinfo">
          <h3>Orange Juice</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pineapple Juice" data-price="55" data-img="pain apple.jpg"><img src="pain apple.jpg"
          alt="Pineapple Juice">
        <div class="cinfo">
          <h3>Pineapple Juice</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Grape Juice" data-price="55" data-img="grapes .jpg"><img src="grapes .jpg"
          alt="Grape Juice">
        <div class="cinfo">
          <h3>Grape Juice</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pulpy Grape" data-price="55" data-img="puply grape.jpg"><img src="puply grape.jpg"
          alt="Pulpy Grape">
        <div class="cinfo">
          <h3>Pulpy Grape</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Watermelon Juice" data-price="45" data-img="water million .jpg"><img
          src="water million .jpg" alt="Watermelon Juice">
        <div class="cinfo">
          <h3>Watermelon Juice</h3><span class="cprice">‚Çπ45</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Musk Melon Juice" data-price="55" data-img="karbuja.jpg"><img src="karbuja.jpg"
          alt="Musk Melon">
        <div class="cinfo">
          <h3>Musk Melon Juice</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Carrot Juice" data-price="65" data-img="carrot .jpg"><img src="carrot .jpg"
          alt="Carrot Juice">
        <div class="cinfo">
          <h3>Carrot Juice</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="ABC Juice" data-price="85" data-img="abc.webp"><img src="abc.webp" alt="ABC Juice">
        <div class="cinfo">
          <h3>ABC Juice</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Amla Juice" data-price="65" data-img="nalikayi.jpg"><img src="nalikayi.jpg"
          alt="Amla Juice">
        <div class="cinfo">
          <h3>Amla Juice</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Beetroot Juice" data-price="65" data-img="bitrot.jpg"><img src="bitrot.jpg"
          alt="Beetroot Juice">
        <div class="cinfo">
          <h3>Beetroot Juice</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Lemon Juice" data-price="35" data-img="lemon juice.jpg"><img src="lemon juice.jpg"
          alt="Lemon Juice">
        <div class="cinfo">
          <h3>Lemon Juice</h3><span class="cprice">‚Çπ35</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Mosambi Juice" data-price="55" data-img="mosubi.jpg"><img src="mosubi.jpg"
          alt="Mosambi Juice">
        <div class="cinfo">
          <h3>Mosambi Juice</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Fruit Bowl" data-price="85" data-img="Fruit bowl.jpg"><img src="Fruit bowl.jpg"
          alt="Fruit Bowl">
        <div class="cinfo">
          <h3>Fruit Bowl</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pure Mosambi (no water)" data-price="75" data-img="mosubi.jpg"><img src="mosubi.jpg"
          alt="Pure Mosambi">
        <div class="cinfo">
          <h3>Pure Mosambi (no water)</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pure Orange (no water)" data-price="75" data-img="orange .jpg"><img src="orange .jpg"
          alt="Pure Orange">
        <div class="cinfo">
          <h3>Pure Orange (no water)</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>

    <div class="mcat">ü•§ Shakes</div>
    <div class="mgrid">
      <div class="card" data-name="Apple Shake" data-price="85" data-img="apple shake.jpg"><img src="apple shake.jpg"
          alt="Apple Shake">
        <div class="cinfo">
          <h3>Apple Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Banana Shake" data-price="50" data-img="bananas .jpg"><img src="bananas .jpg"
          alt="Banana Shake">
        <div class="cinfo">
          <h3>Banana Shake</h3><span class="cprice">‚Çπ50</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Butter Fruit Shake" data-price="90" data-img="butter fruits .jpg"><img
          src="butter fruits .jpg" alt="Butter Fruit Shake">
        <div class="cinfo">
          <h3>Butter Fruit Shake</h3><span class="cprice">‚Çπ90</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Papaya Shake" data-price="55" data-img="papaya.jpg"><img src="papaya.jpg"
          alt="Papaya Shake">
        <div class="cinfo">
          <h3>Papaya Shake</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pomegranate Shake" data-price="80" data-img="promogante.jpg"><img
          src="promogante.jpg" alt="Pomegranate Shake">
        <div class="cinfo">
          <h3>Pomegranate Shake</h3><span class="cprice">‚Çπ80</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Mango Shake" data-price="75" data-img="mango.jpeg"><img src="mango.jpeg"
          alt="Mango Shake">
        <div class="cinfo">
          <h3>Mango Shake</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Kiwi Shake" data-price="75" data-img="kiwi .jpg"><img src="kiwi .jpg"
          alt="Kiwi Shake">
        <div class="cinfo">
          <h3>Kiwi Shake</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Anjeer Shake" data-price="75" data-img="anjeer.jpg"><img src="anjeer.jpg"
          alt="Anjeer Shake">
        <div class="cinfo">
          <h3>Anjeer Shake</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Dry Fruit Shake" data-price="125" data-img="dry fruit.jpg"><img src="dry fruit.jpg"
          alt="Dry Fruit Shake">
        <div class="cinfo">
          <h3>Dry Fruit Shake</h3><span class="cprice">‚Çπ125</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Dates Shake" data-price="80" data-img="dates.jpg"><img src="dates.jpg"
          alt="Dates Shake">
        <div class="cinfo">
          <h3>Dates Shake</h3><span class="cprice">‚Çπ80</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Oreo Shake" data-price="70" data-img="orio shake.jpg"><img src="orio shake.jpg"
          alt="Oreo Shake">
        <div class="cinfo">
          <h3>Oreo Shake</h3><span class="cprice">‚Çπ70</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Cold Badam" data-price="55" data-img="cold badam.jpg"><img src="cold badam.jpg"
          alt="Cold Badam">
        <div class="cinfo">
          <h3>Cold Badam</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Cold Coffee" data-price="65" data-img="cold cofee.jpg"><img src="cold cofee.jpg"
          alt="Cold Coffee">
        <div class="cinfo">
          <h3>Cold Coffee</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Chocolate Coffee" data-price="75" data-img="chocolate .jpg"><img src="chocolate .jpg"
          alt="Chocolate Coffee">
        <div class="cinfo">
          <h3>Chocolate Coffee</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Rose Milk" data-price="55" data-img="rose milk.jpg"><img src="rose milk.jpg"
          alt="Rose Milk">
        <div class="cinfo">
          <h3>Rose Milk</h3><span class="cprice">‚Çπ55</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Sharja" data-price="75" data-img="sharja.jpg"><img src="sharja.jpg" alt="Sharja">
        <div class="cinfo">
          <h3>Sharja</h3><span class="cprice">‚Çπ75</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Tender Coconut Shake" data-price="85" data-img="trender coco.jpg"><img
          src="trender coco.jpg" alt="Tender Coconut">
        <div class="cinfo">
          <h3>Tender Coconut Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Sapota Shake" data-price="65" data-img="sapota.jpg"><img src="sapota.jpg"
          alt="Sapota Shake">
        <div class="cinfo">
          <h3>Sapota Shake</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>

    <div class="mcat">ü•õ Lassi</div>
    <div class="mgrid">
      <div class="card" data-name="Sweet Lassi" data-price="50" data-img="sweet lassi.jpg"><img src="sweet lassi.jpg"
          alt="Sweet Lassi">
        <div class="cinfo">
          <h3>Sweet Lassi</h3><span class="cprice">‚Çπ50</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Banana Lassi" data-price="65" data-img="banana lassi.jpg"><img src="banana lassi.jpg"
          alt="Banana Lassi">
        <div class="cinfo">
          <h3>Banana Lassi</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Apple Lassi" data-price="70" data-img="apple lassi.jpg"><img src="apple lassi.jpg"
          alt="Apple Lassi">
        <div class="cinfo">
          <h3>Apple Lassi</h3><span class="cprice">‚Çπ70</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Mango Lassi" data-price="70" data-img="mango lassi.jpeg"><img src="mango lassi.jpeg"
          alt="Mango Lassi">
        <div class="cinfo">
          <h3>Mango Lassi</h3><span class="cprice">‚Çπ70</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pineapple Lassi" data-price="65" data-img="pinapple lassi.jpg"><img
          src="pinapple lassi.jpg" alt="Pineapple Lassi">
        <div class="cinfo">
          <h3>Pineapple Lassi</h3><span class="cprice">‚Çπ65</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Fruit Lassi" data-price="80" data-img="fruit lassi.jpg"><img src="fruit lassi.jpg"
          alt="Fruit Lassi">
        <div class="cinfo">
          <h3>Fruit Lassi</h3><span class="cprice">‚Çπ80</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>

    <div class="mcat">üç® Ice Cream Shakes</div>
    <div class="mgrid">
      <div class="card" data-name="Butterscotch Shake" data-price="85" data-img="butter scorch ice cream .jpg">
        <img src="butter scorch ice cream .jpg" alt="Butterscotch">
        <div class="cinfo">
          <h3>Butterscotch Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Chocolate Shake" data-price="85" data-img="chocolate .jpg"><img src="chocolate .jpg"
          alt="Chocolate">
        <div class="cinfo">
          <h3>Chocolate Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Pista Shake" data-price="85" data-img="pista ice cream shake.jpg"><img
          src="pista ice cream shake.jpg" alt="Pista">
        <div class="cinfo">
          <h3>Pista Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Strawberry Shake" data-price="85" data-img="strawberry .jpg"><img
          src="strawberry .jpg" alt="Strawberry">
        <div class="cinfo">
          <h3>Strawberry Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Vanilla Shake" data-price="85" data-img="vanila ice cream .jpg"><img
          src="vanila ice cream .jpg" alt="Vanilla">
        <div class="cinfo">
          <h3>Vanilla Shake</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>

    <div class="mcat">ü•§ Sugarcane Juice</div>
    <div class="mgrid">
      <div class="card" data-name="Sugarcane Juice 1 Ltr" data-price="115" data-img="sugar_cane_juice.webp"><img
          src="sugar_cane_juice.webp" alt="Sugarcane 1L">
        <div class="cinfo">
          <h3>Sugarcane Juice 1 Ltr</h3><span class="cprice">‚Çπ115</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Sugarcane Juice 2 Ltr" data-price="215" data-img="sugarcane-juice2.jpg"><img
          src="sugarcane-juice2.jpg" alt="Sugarcane 2L">
        <div class="cinfo">
          <h3>Sugarcane Juice 2 Ltr</h3><span class="cprice">‚Çπ215</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>

    <div class="mcat">üç± Meals</div>
    <div class="mgrid">
      <div class="card" data-name="Healthy Meal" data-price="85" data-img="healthy meal.jpg"><img src="healthy meal.jpg"
          alt="Healthy Meal">
        <div class="cinfo">
          <h3>Healthy Meal</h3><span class="cprice">‚Çπ85</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
      <div class="card" data-name="Protein Meal" data-price="90" data-img="protein meal.jpg"><img src="protein meal.jpg"
          alt="Protein Meal">
        <div class="cinfo">
          <h3>Protein Meal</h3><span class="cprice">‚Çπ90</span>
        </div>
        <div class="card-actions"><button class="card-add" type="button">üõí Add to Cart</button></div>
      </div>
    </div>
  </section>

  <!-- ABOUT ‚Äî 3D IMMERSIVE SECTION -->
  <section id="about">
    <canvas id="aboutCanvas"></canvas>

    <!-- Radial Glow Layers -->
    <div class="about-glow g1"></div>
    <div class="about-glow g2"></div>
    <div class="about-glow g3"></div>
    <div class="about-glow g4"></div>

    <!-- Floating Fruit Shapes -->
    <div class="about-shape">üçä</div>
    <div class="about-shape">üçì</div>
    <div class="about-shape">üçã</div>
    <div class="about-shape">ü•ù</div>
    <div class="about-shape">üçâ</div>
    <div class="about-shape">üçç</div>

    <!-- Glass Content Card -->
    <div class="about-glass">
      <div class="about-tagline">‚ú® Our Story</div>
      <div class="stitle">About Us</div>
      <p class="about-text">At Ganesh Fresh Juice Centre, we serve the freshest and healthiest juices made from
        quality fruits. Grab a healthy drink, quick meal, or a refreshing shake ‚Äî our mission is to refresh you with
        natural taste in every sip!</p>

      <div class="about-features">
        <div class="about-feat">
          <span class="feat-icon">üçä</span>
          <div class="feat-title">100% Fresh</div>
          <div class="feat-desc">Made with hand-picked, quality fruits every single day</div>
        </div>
        <div class="about-feat">
          <span class="feat-icon">‚ö°</span>
          <div class="feat-title">Quick Service</div>
          <div class="feat-desc">From order to glass in minutes ‚Äî fast, fresh delivery</div>
        </div>
        <div class="about-feat">
          <span class="feat-icon">üíö</span>
          <div class="feat-title">No Preservatives</div>
          <div class="feat-desc">Pure natural taste, zero chemicals, always healthy</div>
        </div>
      </div>

      <div class="about-cta">
        <a href="#menu">üçπ Explore Our Menu</a>
      </div>
    </div>
  </section>

  <!-- GALLERY -->
  <section id="gallery">
    <div class="stitle">Our Gallery</div>
    <p class="ssub">üì∏ A peek at our shop and fresh creations!</p>
    <div class="mgrid" style="margin-top:14px">
      <div class="card"><img src="g1.jpg" alt="Shop">
        <div class="cinfo">
          <h3>Our Juice Centre</h3>
        </div>
      </div>
      <div class="card"><img src="g2.jpg" alt="Shop">
        <div class="cinfo">
          <h3>Our Juice Centre</h3>
        </div>
      </div>
      <div class="card"><img src="g3.jpg" alt="Shop">
        <div class="cinfo">
          <h3>Our Juice Centre</h3>
        </div>
      </div>
      <div class="card"><img src="g4.jpg" alt="Benefits">
        <div class="cinfo">
          <h3>Health Benefits</h3>
        </div>
      </div>
      <div class="card"><img src="g5.jpg" alt="Benefits">
        <div class="cinfo">
          <h3>Health Benefits</h3>
        </div>
      </div>
      <div class="card"><img src="g6.jpg" alt="Benefits">
        <div class="cinfo">
          <h3>Health Benefits</h3>
        </div>
      </div>
      <div class="card"><img src="j3.jpg" alt="Juice">
        <div class="cinfo">
          <h3>Fresh Juices</h3>
        </div>
      </div>
      <div class="card"><img src="pain apple.jpg" alt="Lassi">
        <div class="cinfo">
          <h3>Creamy Lassi</h3>
        </div>
      </div>
      <div class="card"><img src="sugar_cane_juice.webp" alt="Sugarcane">
        <div class="cinfo">
          <h3>Sugarcane Juice</h3>
        </div>
      </div>
    </div>
  </section>

  <!-- ORDER / DELIVERY -->
  <section id="delivery">
    <div style="text-align:center">
      <div class="order-badge">üõí Place Your Order Online</div>
      <div class="stitle" style="display:block;text-align:center">Home Delivery</div>
    </div>
    <div class="dbox">
      <div>
        <p style="margin:0;font-size:1.02rem">üöö We offer <b>home delivery</b> for juices and shakes!</p>
        <p class="small muted" style="margin-top:5px">‚úî Min Order: ‚Çπ199 &nbsp; ‚úî 9 AM ‚Äì 9 PM &nbsp; ‚úî Free
          within 2 km</p>
        <p class="small muted">Above 2 km: ‚Çπ15/extra km</p>
        <div class="top-banner" style="margin-top:8px">üéâ <strong>Sunday:</strong> Buy 6 items ‚Äî Get <span
            class="highlight">1 Watermelon Juice FREEüçâ</span></div>
      </div>
    </div>

    <div class="ocard">
      <h3 style="font:700 1.2rem var(--fh);margin-bottom:14px;text-align:center">üçπ Complete Your Order</h3>
      <p class="small muted" style="text-align:center;margin-bottom:14px">Items from your cart will be included
        automatically</p>
      <form id="orderForm">
        <div class="fg"><label>Your Name</label><input type="text" name="name" placeholder="Enter your name" required>
        </div>
        <div class="fg"><label>Phone Number</label><input type="tel" name="phone" placeholder="Enter phone number"
            required></div>
        <div class="fg"><label>Delivery Address</label><textarea name="address" placeholder="Enter delivery address"
            rows="3" required></textarea></div>
        <div style="display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap">
          <div class="fg" style="flex:1;min-width:130px">
            <label>Distance from shop (km)</label>
            <input type="number" id="distanceInput" step="0.1" min="0" value="1">
          </div>
          <div style="display:flex;gap:6px;align-items:center;padding-bottom:2px">
            <span class="small muted" id="distanceSource">(manual)</span>
            <button type="button" id="detectBtn" style="padding:9px 14px;font-size:.83rem">üìç
              Detect</button>
          </div>
        </div>
        <!-- Google Maps embed -->
        <div class="map-box">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3888.0!2d77.6514!3d12.9863!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTLCsDU5JzEwLjciTiA3N8KwMzknMDUuMCJF!5e0!3m2!1sen!2sin!4v1"
            loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          <p class="small muted" style="padding:6px 10px">üìç Ganesh Juice Centre ‚Äî <a
              href="https://maps.app.goo.gl/oF3CBc7Tn2J6uxHv5" target="_blank"
              style="color:var(--pri);font-weight:600">Open in Google Maps</a></p>
        </div>

        <div class="totals" id="totalsDisplay">
          <div class="box">Subtotal: <span id="subtotal">‚Çπ0</span></div>
          <div class="box">Delivery: <span id="deliveryFee">‚Çπ0</span></div>
          <div class="box" style="background:linear-gradient(135deg,var(--pri-lt),#FFE0B2);border-color:var(--pri)">
            Total:
            <span id="grandTotal">‚Çπ0</span>
          </div>
        </div>

        <div style="margin-top:6px">
          <h4 style="font:600 .92rem var(--fh);margin:5px 0">Payment Method</h4>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
            <label
              style="flex:1;min-width:140px;cursor:pointer;display:flex;align-items:center;gap:10px;padding:14px 16px;border-radius:var(--rs);border:2px solid #e8e8e8;background:#fff;transition:all .3s ease"
              class="pay-option" id="payOptCod">
              <input type="radio" name="payment" value="cod" style="accent-color:var(--pri);width:18px;height:18px">
              <div>
                <div style="font:600 .9rem var(--fh);color:var(--txt)">üíµ Cash on Delivery</div>
                <div class="small muted">Pay when you receive</div>
              </div>
            </label>
            <label
              style="flex:1;min-width:140px;cursor:pointer;display:flex;align-items:center;gap:10px;padding:14px 16px;border-radius:var(--rs);border:2px solid #5B2D8E;background:#F5F0FF;transition:all .3s ease"
              class="pay-option" id="payOptUpi">
              <input type="radio" name="payment" value="upi" checked
                style="accent-color:#5B2D8E;width:18px;height:18px">
              <div>
                <div style="font:600 .9rem var(--fh);color:var(--txt)">üì± Pay via UPI</div>
                <div class="small muted">GPay, PhonePe, Paytm</div>
              </div>
            </label>
          </div>
          <div class="payment-required-msg" id="paymentMsg">üîí UPI: Payment verified before order confirmation | COD:
            Pay on delivery</div>
        </div>

        <div style="text-align:center;margin-top:8px">
          <button type="submit" id="submitOrder" style="padding:15px 36px;font-size:1.02rem">Place Order</button>
        </div>
        <div id="orderWarnings" style="color:#e74c3c;font:700 .88rem var(--fh);margin-top:5px;text-align:center"></div>
      </form>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="stitle">Contact Us</div>
    <p style="margin-top:14px">üìç GR Building, Nagavarapalya Main Road, Bangalore 560093</p>
    <p>üìû +91 99025 93591</p>
    <p>‚úâÔ∏è jnaneshappu85@gmail.com</p>
    <p class="small" style="margin-top:6px">üí¨ <a class="wa-btn" id="waChat" href="#" target="_blank">Chat on
        WhatsApp</a></p>
    <p class="small" style="margin-top:6px">üìç <a href="https://maps.app.goo.gl/oF3CBc7Tn2J6uxHv5" target="_blank"
        style="color:var(--pri);font-weight:600">Open in Google Maps</a></p>
    <p class="small" style="margin-top:6px"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
        viewBox="0 0 24 24" fill="none" stroke="#E1306C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        style="vertical-align:middle;margin-right:4px">
        <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" />
      </svg><a href="https://www.instagram.com/sri_ganesh_juice_09/" target="_blank"
        style="color:#E1306C;font-weight:600">Follow us on Instagram</a></p>
  </section>

  <footer>
    <p>&copy; 2025 Ganesh Fresh Juice Centre | All Rights Reserved</p>
    <p style="margin-top:6px"><a href="https://www.instagram.com/sri_ganesh_juice_09/" target="_blank"
        style="color:#E1306C;text-decoration:none;font-weight:600;display:inline-flex;align-items:center;gap:6px"><svg
          xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#E1306C"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
          <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
          <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" />
        </svg> @sri_ganesh_juice_09</a></p>
  </footer>

  <!-- CART FLOAT ICON -->
  <div class="cart-float" id="cartBtn" title="View Cart">üõí<span class="cart-badge" id="cartBadge">0</span></div>

  <!-- CART DRAWER -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-drawer" id="cartDrawer">
    <div class="cart-head">
      <h3>üõí Your Cart</h3><button class="cart-close" id="cartClose">‚úï</button>
    </div>
    <div class="cart-body" id="cartBody">
      <div class="cart-empty"><span>üßÉ</span>
        <p>Your cart is empty.<br>Add items from the menu!</p>
      </div>
    </div>
    <div class="cart-foot">
      <div class="cart-total"><span>Subtotal</span><span id="cartSubtotal">‚Çπ0</span></div>
      <button class="cart-checkout" id="cartCheckout">Proceed to Checkout ‚Üí</button>
    </div>
  </div>

  <!-- CONFIRM OVERLAY -->
  <div class="covl" id="confirmOverlay">
    <div class="cbox">
      <h3>‚úÖ Order Confirmed!</h3>
      <p>Payment verified ‚Äî your order is being prepared.</p>
      <p>Order Number:</p>
      <div class="ono" id="confirmOrderNo">GFJ-0000</div>
      <p class="small muted" id="confirmTxnId" style="margin-top:4px"></p>
      <p class="small muted" id="confirmSummary"></p>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
        <button id="copyOrderBtn">üìã Copy</button>
        <button id="closeConfirmBtn" style="background:linear-gradient(135deg,#95a5a6,#7f8c8d)">Close</button>
      </div>
    </div>
  </div>

  <!-- UPI PAYMENT OVERLAY -->
  <div class="upi-overlay" id="upiOverlay">
    <div class="upi-card">
      <div class="upi-header">
        <h3>üì± Complete UPI Payment</h3>
        <div class="upi-order-id" id="upiOrderIdDisp">Order: GFJ-0000</div>
      </div>
      <div class="upi-amount-box">
        <div class="upi-amount-label">Amount to Pay</div>
        <div class="upi-amount-value" id="upiAmountDisp">‚Çπ0</div>
        <div class="upi-amount-breakdown">
          <span>Subtotal: <strong id="upiSubDisp">‚Çπ0</strong></span>
          <span>Delivery: <strong id="upiDelDisp">‚Çπ0</strong></span>
        </div>
      </div>
      <div class="upi-body">
        <button class="upi-any-btn" id="upiPayAnyBtn" type="button">üì± Open UPI App to Pay</button>

        <div class="upi-section-title">üì≤ Or choose your app</div>
        <div class="upi-apps-grid">
          <button class="upi-app-btn" type="button" data-app="tez://"><span class="app-icon">üí≥</span> Google
            Pay</button>
          <button class="upi-app-btn" type="button" data-app="phonepe://"><span class="app-icon">üì≤</span>
            PhonePe</button>
          <button class="upi-app-btn" type="button" data-app="paytmmp://"><span class="app-icon">üí∞</span>
            Paytm</button>
          <button class="upi-app-btn" type="button" data-app="upi://"><span class="app-icon">üè¶</span> BHIM UPI</button>
        </div>

        <div class="upi-divider">or scan QR code</div>

        <div class="upi-qr-section">
          <img src="qrcode.jpg" alt="UPI QR Code" onerror="this.parentElement.style.display='none'">
          <div class="qr-label">Scan with any UPI app</div>
        </div>

        <div class="upi-id-row">
          <span class="uid" id="upiIdOverlay">jnaneshappu85-1@oksbi</span>
          <button type="button" id="upiCopyOverlay">üìã Copy</button>
        </div>

        <div class="upi-status pending" id="upiPayStatus">‚è≥ Waiting for payment...</div>

        <div class="upi-txn-group">
          <label for="upiTxnInput">üìù UPI Transaction Reference / UTR Number</label>
          <input type="text" class="upi-txn-input" id="upiTxnInput" placeholder="Enter your UPI transaction ID"
            autocomplete="off">
          <div class="upi-txn-error" id="upiTxnError"></div>
        </div>
      </div>
      <div class="upi-footer">
        <button type="button" id="upiDoneBtn" style="background:linear-gradient(135deg,#27AE60,#2ECC71)">‚úÖ Verify
          Payment</button>
        <button type="button" id="upiCancelBtn" style="background:linear-gradient(135deg,#95a5a6,#7f8c8d)">‚úñ
          Cancel</button>
      </div>
    </div>
  </div>

  <!-- TRACKING PANEL -->
  <div id="trackingPanel" class="tpanel" style="display:none">
    <div><strong>Order:</strong> <span id="tpOrderNo">‚Äî</span></div>
    <div style="margin-top:5px"><strong>Location:</strong></div>
    <div id="tpCoords" class="small">waiting‚Ä¶</div>
    <div id="tpAddress" class="small muted" style="margin-top:5px">Address: ‚Äî</div>
    <div style="margin-top:5px"><a id="tpMapLink" href="#" target="_blank" class="small" style="color:var(--pri)">Open
        in Google Maps</a></div>
    <div style="margin-top:6px;display:flex;gap:5px">
      <button id="btnStop" style="flex:1;background:linear-gradient(135deg,#95a5a6,#7f8c8d)">Stop Sharing</button>
      <button id="btnDlvd" style="flex:1;background:linear-gradient(135deg,#27ae60,#2ecc71)">Delivered</button>
    </div>
    <div id="tpStatus" class="small muted" style="margin-top:6px"></div>
  </div>
  <script>
    /* ===== CONFIG ===== */
    const SHOP_PHONE = '919902593591', SHOP_LAT = 12.9863, SHOP_LON = 77.6514, UPI_ID = 'jnaneshappu85-1@oksbi';
    const FREE_R = 2, EXTRA_KM = 15, MIN_ORDER = 199, SHOP_MAP = 'https://maps.app.goo.gl/oF3CBc7Tn2J6uxHv5', APPS_URL = '/api/orders';
    const waUrl = (ph, msg) => 'https://wa.me/' + ph + '?text=' + encodeURIComponent(msg);
    const genON = () => 'GFJ-' + Date.now().toString(36).toUpperCase().slice(-6);
    document.getElementById('waChat').href = waUrl(SHOP_PHONE, 'Hi! I want to place an order.');
    const dSrc = document.getElementById('distanceSource');

    /* ===== CART STATE ===== */
    let cart = [];
    function addToCart(name, price, img) {
      const existing = cart.find(i => i.name === name);
      if (existing) { existing.qty++; } else { cart.push({ name, price: Number(price), img, qty: 1 }); }
      renderCart(); animateCartIcon(); updateTotals();
    }
    function removeFromCart(name) { cart = cart.filter(i => i.name !== name); renderCart(); updateTotals(); }
    function changeQty(name, delta) {
      const item = cart.find(i => i.name === name);
      if (!item) return;
      item.qty += delta;
      if (item.qty <= 0) { removeFromCart(name); return; }
      renderCart(); updateTotals();
    }
    function getCartSubtotal() { return cart.reduce((s, i) => s + i.price * i.qty, 0); }
    function getCartCount() { return cart.reduce((s, i) => s + i.qty, 0); }

    /* ===== RENDER CART DRAWER ===== */
    function renderCart() {
      const body = document.getElementById('cartBody');
      const badge = document.getElementById('cartBadge');
      const count = getCartCount();
      const sub = getCartSubtotal();
      badge.textContent = count;
      badge.classList.remove('pop'); void badge.offsetWidth; badge.classList.add('pop');
      document.getElementById('cartSubtotal').textContent = '‚Çπ' + sub;
      document.getElementById('cartCheckout').disabled = sub < MIN_ORDER;
      if (!cart.length) { body.innerHTML = '<div class="cart-empty"><span>üßÉ</span><p>Your cart is empty.<br>Add items from the menu!</p></div>'; return; }
      body.innerHTML = cart.map(i => `
        <div class="ci">
          <img src="${i.img}" alt="${i.name}">
          <div class="ci-info"><h4>${i.name}</h4><div class="ci-price">‚Çπ${i.price} √ó ${i.qty} = ‚Çπ${i.price * i.qty}</div></div>
          <div class="qty-ctrl">
            <button class="qty-btn" type="button" onclick="changeQty('${i.name.replace(/'/g, "\\'")}', -1)">‚àí</button>
            <span class="qty-val">${i.qty}</span>
            <button class="qty-btn" type="button" onclick="changeQty('${i.name.replace(/'/g, "\\'")}', 1)">+</button>
          </div>
          <button class="ci-del" type="button" onclick="removeFromCart('${i.name.replace(/'/g, "\\'")}')">‚úï</button>
        </div>`).join('');
      // sync "Added" state on cards
      document.querySelectorAll('.card-add').forEach(btn => {
        const card = btn.closest('.card');
        if (!card || !card.dataset.name) return;
        const inCart = cart.some(i => i.name === card.dataset.name);
        btn.classList.toggle('added', inCart);
        btn.textContent = inCart ? '‚úì In Cart' : 'üõí Add to Cart';
      });
    }

    function animateCartIcon() {
      const el = document.getElementById('cartBtn');
      el.classList.remove('bounce'); void el.offsetWidth; el.classList.add('bounce');
    }

    /* ===== ADD TO CART CLICK + FLY ANIMATION ===== */
    document.querySelectorAll('.card-add').forEach(btn => {
      btn.addEventListener('click', function (e) {
        e.stopPropagation();
        const card = this.closest('.card');
        const name = card.dataset.name, price = card.dataset.price, img = card.dataset.img;
        addToCart(name, price, img);
        // fly dot
        const rect = this.getBoundingClientRect();
        const dot = document.createElement('div');
        dot.className = 'fly-dot';
        dot.style.left = rect.left + rect.width / 2 + 'px';
        dot.style.top = rect.top + 'px';
        document.body.appendChild(dot);
        setTimeout(() => dot.remove(), 600);
        // feedback
        this.classList.add('added');
        this.textContent = '‚úì Added!';
        setTimeout(() => {
          const inCart = cart.some(i => i.name === name);
          this.textContent = inCart ? '‚úì In Cart' : 'üõí Add to Cart';
          if (!inCart) this.classList.remove('added');
        }, 800);
      });
    });

    /* ===== CART OPEN/CLOSE ===== */
    const cartDrawer = document.getElementById('cartDrawer');
    const cartOverlay = document.getElementById('cartOverlay');
    function openCart() { cartDrawer.classList.add('open'); cartOverlay.classList.add('open'); }
    function closeCart() { cartDrawer.classList.remove('open'); cartOverlay.classList.remove('open'); }
    document.getElementById('cartBtn').addEventListener('click', openCart);
    document.getElementById('cartClose').addEventListener('click', closeCart);
    cartOverlay.addEventListener('click', closeCart);
    document.getElementById('cartCheckout').addEventListener('click', () => {
      closeCart();
      document.getElementById('delivery').scrollIntoView({ behavior: 'smooth' });
      detectDist(true);
    });

    /* ===== 3D CARD TILT ===== */
    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('mousemove', e => {
        const r = card.getBoundingClientRect();
        const x = e.clientX - r.left, y = e.clientY - r.top;
        const rx = ((y - r.height / 2) / r.height) * -12;
        const ry = ((x - r.width / 2) / r.width) * 12;
        card.style.transform = `perspective(600px) rotateX(${rx}deg) rotateY(${ry}deg) translateY(-8px) scale(1.02)`;
        card.style.boxShadow = `${-ry}px ${rx}px 30px rgba(0,0,0,.12)`;
      });
      card.addEventListener('mouseleave', () => { card.style.transform = ''; card.style.boxShadow = ''; });
    });

    /* ===== SCROLL REVEAL ===== */
    const obs = new IntersectionObserver((entries) => {
      entries.forEach((e, i) => {
        if (e.isIntersecting) { setTimeout(() => e.target.classList.add('vis'), i * 50); obs.unobserve(e.target); }
      });
    }, { threshold: .08 });
    document.querySelectorAll('.card').forEach(c => obs.observe(c));

    /* ===== NAV SCROLL ===== */
    const nav = document.getElementById('mainNav');
    window.addEventListener('scroll', () => {
      nav.classList.toggle('scrolled', window.scrollY > 40);
      const sects = document.querySelectorAll('section[id],.hero');
      let cur = ''; sects.forEach(s => { if (window.scrollY >= s.offsetTop - 100) cur = s.id || 'home'; });
      nav.querySelectorAll('a').forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + cur));
    });

    /* ===== PARALLAX ===== */
    window.addEventListener('scroll', () => {
      const h = document.querySelector('.hero');
      if (h) h.style.backgroundPositionY = (window.scrollY * .35) + 'px';
    });

    /* ===== TOTALS ===== */
    function updateTotals() {
      const sub = getCartSubtotal();
      let dist = Number(document.getElementById('distanceInput').value) || 0;
      if (dist < 0) dist = 0;
      let del = 0;
      if (sub > 0) { if (dist > FREE_R) { del = Math.max(0, Math.ceil(dist - FREE_R)) * EXTRA_KM; } }
      const total = sub + del;
      document.getElementById('subtotal').textContent = '‚Çπ' + sub;
      document.getElementById('deliveryFee').textContent = '‚Çπ' + del;
      const gt = document.getElementById('grandTotal');
      gt.textContent = '‚Çπ' + total;
      gt.style.animation = 'none'; void gt.offsetWidth; gt.style.animation = 'pricePop .3s ease';
      const w = document.getElementById('orderWarnings'), btn = document.getElementById('submitOrder');
      w.textContent = '';
      if (sub < MIN_ORDER) { w.textContent = 'Minimum order ‚Çπ' + MIN_ORDER + '. Add more items.'; btn.disabled = true; btn.style.opacity = .5; }
      else { btn.disabled = false; btn.style.opacity = 1; }
      return { sub, del, total };
    }
    document.getElementById('distanceInput').addEventListener('input', updateTotals);

    /* ===== DISTANCE / GEO ===== */
    function haversine(la1, lo1, la2, lo2) {
      const R = 6371, toR = v => v * Math.PI / 180;
      const dLa = toR(la2 - la1), dLo = toR(lo2 - lo1);
      const a = Math.sin(dLa / 2) ** 2 + Math.cos(toR(la1)) * Math.cos(toR(la2)) * Math.sin(dLo / 2) ** 2;
      return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    }
    async function detectDist(autoUpdate = true) {
      if (!navigator.geolocation) { alert('Geolocation not supported.'); return null; }
      dSrc.textContent = 'detecting‚Ä¶';
      try {
        const pos = await new Promise((r, j) => navigator.geolocation.getCurrentPosition(r, j, { enableHighAccuracy: true, timeout: 12000, maximumAge: 0 }));
        const lat = pos.coords.latitude, lon = pos.coords.longitude;
        const km = Math.round(haversine(SHOP_LAT, SHOP_LON, lat, lon) * 10) / 10;

        // Always update the input value and text so they match the detection
        document.getElementById('distanceInput').value = km;
        dSrc.textContent = autoUpdate ? 'üìç detected (' + km + ' km)' : 'üìç (' + km + ' km)';
        updateTotals();

        return { lat, lon, km };
      } catch (e) {
        console.warn('geo err', e); dSrc.textContent = '(manual)';
        if (autoUpdate) alert('Cannot detect location. Enter distance manually.');
        return null;
      }
    }
    document.getElementById('detectBtn').addEventListener('click', () => detectDist(true));
    detectDist(true);

    /* ===== TRACKING ===== */
    let trackActive = false, trackInt = null;
    function startTrack(oNo) {
      trackActive = true; document.getElementById('tpOrderNo').textContent = oNo;
      document.getElementById('trackingPanel').style.display = 'block';
      async function upd() {
        try {
          const pos = await new Promise((r, j) => navigator.geolocation.getCurrentPosition(r, j, { enableHighAccuracy: true, timeout: 10000 }));
          const la = pos.coords.latitude, lo = pos.coords.longitude;
          document.getElementById('tpCoords').textContent = la.toFixed(5) + ', ' + lo.toFixed(5);
          const ml = `https://www.google.com/maps/search/?api=1&query=${la},${lo}`;
          document.getElementById('tpMapLink').href = ml;
          try { const r = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${la}&lon=${lo}`); const d = await r.json(); document.getElementById('tpAddress').textContent = 'Address: ' + (d.display_name || '‚Äî'); } catch (e) { }
          if (APPS_URL && !APPS_URL.includes('YOUR_')) { fetch(APPS_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ action: 'update_location', orderNo: oNo, lat: la, lon: lo, mapLink: ml, timestamp: new Date().toISOString() }) }).catch(() => { }); }
        } catch (e) { document.getElementById('tpStatus').textContent = 'Error: ' + (e.message || e); }
      }
      upd(); trackInt = setInterval(upd, 30000);
    }
    function stopTrack() { trackActive = false; clearInterval(trackInt); document.getElementById('trackingPanel').style.display = 'none'; }
    document.getElementById('btnStop').addEventListener('click', stopTrack);
    document.getElementById('btnDlvd').addEventListener('click', () => { alert('Delivered!'); stopTrack(); });

    /* ===== UPI OVERLAY & PAYMENT (PAYMENT-FIRST FLOW) ===== */
    let currentUpiOrder = null;
    let currentPaymentToken = null;

    function buildUpiUrl(amount, orderNo, scheme) {
      const prefix = scheme || 'upi://';
      const params = `pay?pa=${encodeURIComponent(UPI_ID)}&pn=${encodeURIComponent('Ganesh Juice Centre')}&am=${amount}&cu=INR&tn=${encodeURIComponent('Order ' + orderNo)}`;
      return prefix + params;
    }

    function openUpiOverlay(orderNo, sub, del, total, paymentToken) {
      currentUpiOrder = { orderNo, total, sub, del };
      currentPaymentToken = paymentToken;
      document.getElementById('upiOrderIdDisp').textContent = 'Order: ' + orderNo;
      document.getElementById('upiAmountDisp').textContent = '‚Çπ' + total;
      document.getElementById('upiSubDisp').textContent = '‚Çπ' + sub;
      document.getElementById('upiDelDisp').textContent = '‚Çπ' + del;
      document.getElementById('upiIdOverlay').textContent = UPI_ID;
      const st = document.getElementById('upiPayStatus');
      st.className = 'upi-status pending';
      st.textContent = '‚è≥ Complete payment, then enter transaction ID below';
      /* Reset transaction input */
      document.getElementById('upiTxnInput').value = '';
      document.getElementById('upiTxnInput').classList.remove('error');
      document.getElementById('upiTxnError').textContent = '';
      document.getElementById('upiDoneBtn').disabled = false;
      document.getElementById('upiDoneBtn').innerHTML = '‚úÖ Verify Payment';
      document.getElementById('upiOverlay').classList.add('vis');
    }

    function closeUpiOverlay() {
      document.getElementById('upiOverlay').classList.remove('vis');
      currentUpiOrder = null;
      currentPaymentToken = null;
    }

    function triggerUpiPay(scheme) {
      if (!currentUpiOrder) return;
      const url = buildUpiUrl(currentUpiOrder.total, currentUpiOrder.orderNo, scheme);
      const st = document.getElementById('upiPayStatus');
      st.className = 'upi-status initiated';
      st.textContent = '‚úÖ Payment initiated ‚Äî complete in your UPI app, then enter transaction ID below';
      window.location.href = url;
    }

    /* Main UPI pay button */
    document.getElementById('upiPayAnyBtn').addEventListener('click', () => triggerUpiPay('upi://'));

    /* App-specific buttons */
    document.querySelectorAll('.upi-app-btn').forEach(btn => {
      btn.addEventListener('click', () => triggerUpiPay(btn.dataset.app));
    });

    /* Copy UPI ID */
    document.getElementById('upiCopyOverlay')?.addEventListener('click', () => {
      navigator.clipboard?.writeText(UPI_ID).then(() => {
        const b = document.getElementById('upiCopyOverlay');
        b.textContent = '‚úì Copied';
        setTimeout(() => b.textContent = 'üìã Copy', 1500);
      }).catch(() => alert('Copy failed'));
    });

    /* ===== VERIFY PAYMENT (Done button) ===== */
    document.getElementById('upiDoneBtn').addEventListener('click', async () => {
      if (!currentUpiOrder || !currentPaymentToken) return;

      const txnInput = document.getElementById('upiTxnInput');
      const txnError = document.getElementById('upiTxnError');
      const txnId = txnInput.value.trim();
      const st = document.getElementById('upiPayStatus');
      const doneBtn = document.getElementById('upiDoneBtn');

      /* Validate transaction ID */
      txnError.textContent = '';
      txnInput.classList.remove('error');
      if (!txnId || txnId.length < 3) {
        txnInput.classList.add('error');
        txnError.textContent = 'Please enter a valid UPI transaction reference ID';
        txnInput.focus();
        return;
      }

      /* Show verifying state */
      doneBtn.disabled = true;
      doneBtn.innerHTML = '<span class="upi-spinner"></span> Verifying...';
      st.className = 'upi-status verifying';
      st.textContent = 'üîÑ Verifying payment with server...';

      try {
        const resp = await fetch('/api/payment/verify', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            paymentToken: currentPaymentToken,
            transactionId: txnId
          })
        });
        const data = await resp.json();

        if (resp.ok && data.success) {
          /* === PAYMENT VERIFIED ‚Äî Now create order confirmation === */
          st.className = 'upi-status success';
          st.textContent = '‚úÖ Payment verified ‚Äî order confirmed!';
          doneBtn.innerHTML = '‚úÖ Verified!';

          const orderNo = data.orderId;
          const orderData = data.orderData;

          /* Show confirm overlay */
          document.getElementById('confirmOrderNo').textContent = orderNo;
          document.getElementById('confirmTxnId').textContent = 'Transaction: ' + data.transactionId;
          document.getElementById('confirmSummary').textContent = `Total: ‚Çπ${orderData.total} ¬∑ Paid via UPI`;

          /* Send WhatsApp message NOW (only after payment verified) */
          const items = orderData.items || [];
          const lines = ['üçπ *Order Confirmed (Paid)*', `Order: ${orderNo}`, `TXN: ${data.transactionId}`, `Name: ${orderData.name}`, `Phone: ${orderData.phone}`, `Address: ${orderData.address}`, 'Items:', ...items, `Subtotal: ‚Çπ${orderData.subtotal}`, `Delivery: ‚Çπ${orderData.delivery}`, `Total: ‚Çπ${orderData.total}`, `Payment: UPI ‚úÖ (${UPI_ID})`, `Shop: ${SHOP_MAP}`];
          if (orderData.mapLink) lines.push(`Location: ${orderData.mapLink}`);

          setTimeout(() => {
            closeUpiOverlay();
            document.getElementById('confirmOverlay').classList.add('vis');
            window.open(waUrl(SHOP_PHONE, lines.join('\n')), '_blank');
            startTrack(orderNo);
            /* Clear cart after successful order */
            cart = [];
            renderCart();
            updateTotals();
          }, 1500);

        } else {
          /* Payment verification failed */
          st.className = 'upi-status failed';
          st.textContent = '‚ùå ' + (data.error || 'Verification failed');
          doneBtn.disabled = false;
          doneBtn.innerHTML = 'üîÑ Retry Verification';
          if (data.error?.includes('transaction')) {
            txnInput.classList.add('error');
            txnError.textContent = data.error;
          }
        }
      } catch (err) {
        st.className = 'upi-status failed';
        st.textContent = '‚ùå Connection error ‚Äî please try again';
        doneBtn.disabled = false;
        doneBtn.innerHTML = 'üîÑ Retry Verification';
      }
    });

    /* Cancel payment ‚Äî cart is preserved, no order created */
    document.getElementById('upiCancelBtn').addEventListener('click', () => {
      if (currentPaymentToken) {
        /* Payment was initiated but not verified ‚Äî no order created */
        currentPaymentToken = null;
      }
      closeUpiOverlay();
    });

    /* ===== PAYMENT METHOD SWITCHING ===== */
    document.querySelectorAll('input[name="payment"]').forEach(r => {
      r.addEventListener('change', () => {
        const pay = document.querySelector('input[name="payment"]:checked').value;
        const submitBtn = document.getElementById('submitOrder');
        const msg = document.getElementById('paymentMsg');
        document.querySelectorAll('.pay-option').forEach(el => {
          el.style.borderColor = '#e8e8e8';
          el.style.background = '#fff';
        });
        const sel = r.closest('.pay-option');
        if (sel && r.checked) {
          sel.style.borderColor = pay === 'upi' ? '#5B2D8E' : 'var(--pri)';
          sel.style.background = pay === 'upi' ? '#F5F0FF' : 'var(--pri-lt)';
        }
        if (pay === 'upi') {
          submitBtn.textContent = 'üí≥ Proceed to Payment';
          msg.textContent = 'üîí UPI payment must be verified before order confirmation';
        } else {
          submitBtn.textContent = 'üöÄ Submit Order via WhatsApp';
          msg.textContent = 'üíµ Pay cash when your order is delivered';
        }
      });
    });
    /* Trigger initial highlight */
    document.querySelector('input[name="payment"]:checked')?.dispatchEvent(new Event('change'));

    /* ===== ORDER SUBMIT (BRANCHES BY PAYMENT METHOD) ===== */
    document.getElementById('orderForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      if (!cart.length) { alert('Your cart is empty! Add items from the menu first.'); return; }
      const t = updateTotals();
      if (t.sub < MIN_ORDER) { alert('Minimum order ‚Çπ' + MIN_ORDER + ' required.'); return; }

      const name = this.name.value.trim(), phone = this.phone.value.trim(), address = this.address.value.trim();
      const dist = Number(document.getElementById('distanceInput').value) || 0;
      const pay = document.querySelector('input[name="payment"]:checked').value;
      const items = cart.map(i => i.name + ' √ó ' + i.qty);
      const itemsDetailed = cart.map(i => ({ name: i.name, qty: i.qty, price: i.price, lineTotal: i.price * i.qty }));

      const submitBtn = document.getElementById('submitOrder');

      /* Show feedback IMMEDIATELY */
      submitBtn.disabled = true;
      if (pay === 'cod') {
        submitBtn.textContent = '‚è≥ Placing order...';
      } else {
        submitBtn.textContent = '‚è≥ Initiating payment...';
      }

      /* Get location (short timeout, non-blocking) */
      let loc = null;
      try {
        const p = await new Promise((r, j) => navigator.geolocation.getCurrentPosition(r, j, { enableHighAccuracy: true, timeout: 5000, maximumAge: 60000 }));
        loc = { lat: p.coords.latitude, lon: p.coords.longitude };
      } catch (e) { /* location unavailable ‚Äî continue without it */ }

      if (pay === 'cod') {
        /* ===== COD FLOW: Create order immediately, send WhatsApp ===== */
        const oNo = genON();

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 30000);
          const resp = await fetch('/api/orders', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            signal: controller.signal,
            body: JSON.stringify({
              orderNo: oNo, name, phone, address, distance: dist,
              items, itemsDetailed,
              subtotal: t.sub, delivery: t.del, total: t.total,
              paymentMethod: 'cod',
              location: loc,
              mapLink: loc ? `https://www.google.com/maps/search/?api=1&query=${loc.lat},${loc.lon}` : '',
              timestamp: new Date().toISOString()
            })
          });
          clearTimeout(timeoutId);
          const data = await resp.json();

          if (resp.ok && data.success) {
            /* Show confirmation */
            document.getElementById('confirmOrderNo').textContent = oNo;
            document.getElementById('confirmTxnId').textContent = 'Payment: Cash on Delivery';
            document.getElementById('confirmSummary').textContent = `Total: ‚Çπ${t.total} ¬∑ ${getCartCount()} items`;
            document.getElementById('confirmOverlay').classList.add('vis');

            /* Send WhatsApp */
            const lines = ['üçπ New Order (COD)', `Order: ${oNo}`, `Name: ${name}`, `Phone: ${phone}`, `Address: ${address}`, `Distance: ${dist} km`, 'Items:', ...items, `Subtotal: ‚Çπ${t.sub}`, `Delivery: ‚Çπ${t.del}`, `Total: ‚Çπ${t.total}`, `Payment: üíµ Cash on Delivery`, `Shop: ${SHOP_MAP}`];
            if (loc) lines.push(`Location: https://www.google.com/maps/search/?api=1&query=${loc.lat},${loc.lon}`);
            window.open(waUrl(SHOP_PHONE, lines.join('\n')), '_blank');

            startTrack(oNo);
            cart = [];
            renderCart();
            updateTotals();
          } else {
            alert('Error: ' + (data.error || 'Could not place order. Please try again.'));
          }
        } catch (err) {
          if (err.name === 'AbortError') {
            alert('Request timed out. Vercel is waking up ‚Äì please try clicking ‚ÄúSubmit Order‚Äù once more.');
          } else {
            alert('Connection error. Please check your internet and try again.');
          }
        }
        submitBtn.disabled = false;
        submitBtn.textContent = 'üöÄ Submit Order via WhatsApp';

      } else {
        /* ===== UPI FLOW: Initiate payment first, verify before order ===== */
        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 30000);
          const resp = await fetch('/api/payment/initiate', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            signal: controller.signal,
            body: JSON.stringify({
              name, phone, address, distance: dist,
              items, itemsDetailed,
              subtotal: t.sub, delivery: t.del, total: t.total,
              upiId: UPI_ID,
              location: loc,
              mapLink: loc ? `https://www.google.com/maps/search/?api=1&query=${loc.lat},${loc.lon}` : ''
            })
          });
          clearTimeout(timeoutId);
          const data = await resp.json();

          if (resp.ok && data.success) {
            openUpiOverlay(data.orderNo, t.sub, t.del, t.total, data.paymentToken);
          } else {
            alert('Error: ' + (data.error || 'Could not initiate payment. Please try again.'));
          }
        } catch (err) {
          if (err.name === 'AbortError') {
            alert('Request timed out. Vercel is waking up ‚Äì please try clicking ‚ÄúProceed to Payment‚Äù once more.');
          } else {
            alert('Connection error. Please check your internet and try again.');
          }
        }
        submitBtn.disabled = false;
        submitBtn.textContent = 'üí≥ Proceed to Payment';
      }
    });

    /* ===== CONFIRM OVERLAY ===== */
    document.getElementById('closeConfirmBtn').addEventListener('click', () => document.getElementById('confirmOverlay').classList.remove('vis'));
    document.getElementById('copyOrderBtn').addEventListener('click', () => {
      const c = document.getElementById('confirmOrderNo').textContent;
      navigator.clipboard?.writeText(c).then(() => { const b = document.getElementById('copyOrderBtn'); b.textContent = 'Copied ‚úì'; setTimeout(() => b.textContent = 'üìã Copy', 1500); }).catch(() => alert('Copy failed'));
    });

    /* ===== BEFOREUNLOAD ===== */
    window.addEventListener('beforeunload', e => { if (trackActive) { const m = 'Location sharing active ‚Äî leaving will stop sharing.'; e.returnValue = m; return m; } });

    /* ===== 3D ANIMATED CANVAS BACKGROUND ===== */
    (function () {
      'use strict';
      const canvas = document.getElementById('bgCanvas');
      const fallback = document.getElementById('bgFallback');
      const ctx = canvas && canvas.getContext('2d');
      /* Reduced-motion check */
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      /* Fallback if no canvas or reduced motion */
      if (!ctx || prefersReduced) {
        if (canvas) canvas.style.display = 'none';
        if (fallback) fallback.style.display = 'block';
        return;
      }

      /* ---------- CONFIG ---------- */
      const isMobile = window.innerWidth < 768;
      const ORB_COUNT = isMobile ? 8 : 14;
      const PARTICLE_COUNT = isMobile ? 15 : 35;
      const WAVE_COUNT = 3;
      const FPS_CAP = isMobile ? 30 : 60;
      const FRAME_MS = 1000 / FPS_CAP;

      /* Brand palette with alpha */
      const PALETTE = [
        { r: 230, g: 126, b: 34 },   /* mango orange */
        { r: 241, g: 196, b: 15 },   /* citrus yellow */
        { r: 231, g: 76, b: 139 },   /* berry pink */
        { r: 26, g: 188, b: 156 },   /* mint green */
        { r: 243, g: 156, b: 18 },   /* warm amber */
        { r: 46, g: 204, b: 113 },   /* fresh green */
      ];

      let W, H, dpr;
      function resize() {
        dpr = Math.min(window.devicePixelRatio || 1, 2);
        W = window.innerWidth;
        H = window.innerHeight;
        canvas.width = W * dpr;
        canvas.height = H * dpr;
        canvas.style.width = W + 'px';
        canvas.style.height = H + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      resize();
      window.addEventListener('resize', resize);

      /* ---------- MOUSE / SCROLL STATE ---------- */
      let mx = W / 2, my = H / 2, smx = W / 2, smy = H / 2, scrollY = 0;
      document.addEventListener('mousemove', function (e) { mx = e.clientX; my = e.clientY; });

      /* ---------- ORB CLASS ---------- */
      function Orb(i) {
        var c = PALETTE[i % PALETTE.length];
        this.color = c;
        this.depth = 0.3 + Math.random() * 0.7;            /* 0.3‚Äì1.0, affects size + parallax speed */
        this.baseR = (40 + Math.random() * 100) * this.depth;
        this.r = this.baseR;
        this.x = Math.random() * W;
        this.y = Math.random() * H;
        this.ox = this.x;  /* orbit center */
        this.oy = this.y;
        this.phase = Math.random() * Math.PI * 2;
        this.speedX = 0.0003 + Math.random() * 0.0004;     /* orbit speed */
        this.speedY = 0.0002 + Math.random() * 0.0003;
        this.orbitRX = 25 + Math.random() * 40;             /* orbit radius */
        this.orbitRY = 15 + Math.random() * 30;
        this.alpha = (0.06 + Math.random() * 0.08) * this.depth;
        this.pulseSpeed = 0.001 + Math.random() * 0.001;
        this.pulseAmp = 0.06 + Math.random() * 0.08;
      }
      Orb.prototype.update = function (t, dt) {
        this.phase += dt;
        /* Orbital motion */
        this.x = this.ox + Math.sin(this.phase * this.speedX * 60) * this.orbitRX;
        this.y = this.oy + Math.cos(this.phase * this.speedY * 60) * this.orbitRY;
        /* Cursor repulsion (subtle) */
        var dx = this.x - smx, dy = this.y - smy;
        var dist = Math.sqrt(dx * dx + dy * dy) || 1;
        var force = Math.max(0, 180 - dist) * 0.04 * this.depth;
        this.x += (dx / dist) * force;
        this.y += (dy / dist) * force;
        /* Scroll parallax */
        this.y -= scrollY * 0.04 * this.depth;
        /* Pulse size */
        this.r = this.baseR * (1 + Math.sin(this.phase * this.pulseSpeed * 60) * this.pulseAmp);
      };
      Orb.prototype.draw = function () {
        var grad = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.r);
        grad.addColorStop(0, 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',' + (this.alpha * 1.5) + ')');
        grad.addColorStop(0.5, 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',' + (this.alpha * 0.5) + ')');
        grad.addColorStop(1, 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',0)');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
        ctx.fill();
      };

      /* ---------- PARTICLE CLASS ---------- */
      function Particle() {
        this.reset();
        this.y = Math.random() * H; /* initial scatter */
      }
      Particle.prototype.reset = function () {
        var c = PALETTE[Math.floor(Math.random() * PALETTE.length)];
        this.color = c;
        this.x = Math.random() * W;
        this.y = H + 10;
        this.r = 1 + Math.random() * 2.5;
        this.vy = -(0.15 + Math.random() * 0.3);
        this.vx = (Math.random() - 0.5) * 0.2;
        this.alpha = 0.15 + Math.random() * 0.25;
        this.life = 0;
        this.maxLife = 400 + Math.random() * 600;
      };
      Particle.prototype.update = function (dt) {
        this.life += dt;
        this.x += this.vx * dt * 0.06;
        this.y += this.vy * dt * 0.06;
        this.y -= scrollY * 0.008;
        /* Fade in/out */
        var progress = this.life / this.maxLife;
        if (progress < 0.1) this.currentAlpha = this.alpha * (progress / 0.1);
        else if (progress > 0.8) this.currentAlpha = this.alpha * ((1 - progress) / 0.2);
        else this.currentAlpha = this.alpha;
        if (this.life >= this.maxLife || this.y < -20) this.reset();
      };
      Particle.prototype.draw = function () {
        ctx.fillStyle = 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',' + (this.currentAlpha || 0) + ')';
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
        ctx.fill();
      };

      /* ---------- WAVE CONFIG ---------- */
      var waves = [];
      for (var wi = 0; wi < WAVE_COUNT; wi++) {
        var wc = PALETTE[wi % PALETTE.length];
        waves.push({
          color: wc,
          amplitude: 18 + wi * 8,
          frequency: 0.003 + wi * 0.001,
          speed: 0.0004 + wi * 0.00015,
          yOffset: H - 60 - wi * 35,
          alpha: 0.04 + wi * 0.015,
          phase: wi * 1.2
        });
      }

      /* ---------- INIT OBJECTS ---------- */
      var orbs = [], particles = [];
      for (var oi = 0; oi < ORB_COUNT; oi++) orbs.push(new Orb(oi));
      for (var pi = 0; pi < PARTICLE_COUNT; pi++) particles.push(new Particle());

      /* ---------- RENDER LOOP ---------- */
      var lastTime = 0, accumulator = 0;
      var prevScrollY = 0;

      function frame(timestamp) {
        requestAnimationFrame(frame);
        if (!lastTime) { lastTime = timestamp; return; }
        var delta = timestamp - lastTime;
        lastTime = timestamp;
        /* FPS throttle */
        accumulator += delta;
        if (accumulator < FRAME_MS) return;
        accumulator -= FRAME_MS;
        var dt = Math.min(delta, 50); /* cap large jumps */

        /* Smooth mouse interpolation */
        smx += (mx - smx) * 0.05;
        smy += (my - smy) * 0.05;
        scrollY = window.scrollY;

        /* Update wave yOffsets on resize */
        for (var wii = 0; wii < waves.length; wii++) {
          waves[wii].yOffset = H - 60 - wii * 35;
        }

        /* Clear */
        ctx.clearRect(0, 0, W, H);

        /* Draw orbs (back to front by depth) */
        orbs.sort(function (a, b) { return a.depth - b.depth; });
        for (var oi2 = 0; oi2 < orbs.length; oi2++) {
          orbs[oi2].update(timestamp, dt);
          orbs[oi2].draw();
        }

        /* Draw waves */
        for (var wi2 = 0; wi2 < waves.length; wi2++) {
          var w = waves[wi2];
          w.phase += dt * w.speed;
          ctx.fillStyle = 'rgba(' + w.color.r + ',' + w.color.g + ',' + w.color.b + ',' + w.alpha + ')';
          ctx.beginPath();
          ctx.moveTo(0, H);
          for (var wx = 0; wx <= W; wx += 4) {
            var wy = w.yOffset + Math.sin(wx * w.frequency + w.phase) * w.amplitude
              + Math.sin(wx * w.frequency * 0.5 + w.phase * 1.3) * w.amplitude * 0.4;
            wy -= scrollY * 0.02;
            ctx.lineTo(wx, wy);
          }
          ctx.lineTo(W, H);
          ctx.closePath();
          ctx.fill();
        }

        /* Draw particles */
        for (var pi2 = 0; pi2 < particles.length; pi2++) {
          particles[pi2].update(dt);
          particles[pi2].draw();
        }

        prevScrollY = scrollY;
      }
      requestAnimationFrame(frame);
    })();

    /* ===== ABOUT SECTION 3D CANVAS ===== */
    (function () {
      'use strict';
      const canvas = document.getElementById('aboutCanvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      if (!ctx) return;
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

      let W, H, orbs = [], particles = [], running = false;

      function resize() {
        const section = document.getElementById('about');
        W = canvas.width = section.offsetWidth;
        H = canvas.height = section.offsetHeight;
      }

      const colors = [
        { r: 230, g: 126, b: 34 },   // mango orange
        { r: 231, g: 76, b: 139 },    // watermelon pink
        { r: 26, g: 188, b: 156 },    // mint green
        { r: 241, g: 196, b: 15 },    // lemon yellow
        { r: 155, g: 89, b: 182 },    // berry purple
        { r: 52, g: 152, b: 219 }     // blueberry
      ];

      function createOrb() {
        const c = colors[Math.floor(Math.random() * colors.length)];
        return {
          x: Math.random() * W,
          y: Math.random() * H,
          r: 30 + Math.random() * 60,
          vx: (Math.random() - .5) * .3,
          vy: (Math.random() - .5) * .3,
          c: c,
          alpha: .04 + Math.random() * .06,
          pulse: Math.random() * Math.PI * 2,
          pulseSpeed: .005 + Math.random() * .01
        };
      }

      function createParticle() {
        return {
          x: Math.random() * W,
          y: Math.random() * H,
          r: .5 + Math.random() * 1.5,
          vx: (Math.random() - .5) * .2,
          vy: -.1 - Math.random() * .3,
          alpha: .15 + Math.random() * .25,
          life: 0,
          maxLife: 300 + Math.random() * 200
        };
      }

      function init() {
        resize();
        orbs = [];
        particles = [];
        for (let i = 0; i < 8; i++) orbs.push(createOrb());
        for (let i = 0; i < 30; i++) particles.push(createParticle());
      }

      function animate() {
        if (!running) return;
        ctx.clearRect(0, 0, W, H);

        /* Draw orbs */
        for (const o of orbs) {
          o.x += o.vx;
          o.y += o.vy;
          o.pulse += o.pulseSpeed;
          const pr = o.r + Math.sin(o.pulse) * 8;

          if (o.x < -o.r) o.x = W + o.r;
          if (o.x > W + o.r) o.x = -o.r;
          if (o.y < -o.r) o.y = H + o.r;
          if (o.y > H + o.r) o.y = -o.r;

          const g = ctx.createRadialGradient(o.x, o.y, 0, o.x, o.y, pr);
          g.addColorStop(0, `rgba(${o.c.r},${o.c.g},${o.c.b},${o.alpha * 1.5})`);
          g.addColorStop(.5, `rgba(${o.c.r},${o.c.g},${o.c.b},${o.alpha * .6})`);
          g.addColorStop(1, `rgba(${o.c.r},${o.c.g},${o.c.b},0)`);
          ctx.beginPath();
          ctx.arc(o.x, o.y, pr, 0, Math.PI * 2);
          ctx.fillStyle = g;
          ctx.fill();
        }

        /* Draw particles */
        for (const p of particles) {
          p.x += p.vx;
          p.y += p.vy;
          p.life++;
          const fade = p.life > p.maxLife * .7 ? (p.maxLife - p.life) / (p.maxLife * .3) : 1;

          if (p.life >= p.maxLife || p.y < -10) {
            Object.assign(p, createParticle());
            p.y = H + 5;
          }

          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,255,255,${p.alpha * fade})`;
          ctx.fill();
        }

        requestAnimationFrame(animate);
      }

      /* Only animate when section is visible */
      const obs = new IntersectionObserver(entries => {
        entries.forEach(e => {
          if (e.isIntersecting && !running) { running = true; animate(); }
          else if (!e.isIntersecting) { running = false; }
        });
      }, { threshold: 0.05 });

      init();
      obs.observe(document.getElementById('about'));
      window.addEventListener('resize', () => { resize(); });
    })();
  </script>
</body>

</html>